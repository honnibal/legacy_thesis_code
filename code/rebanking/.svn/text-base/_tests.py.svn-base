import doctest

from rebanking import nAttach
import data

def test02a():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0200.1')
    (S
      (S[dcl]
        (S[dcl]
          (S/S
            ((S/S)/NP In)
            (NP
              (NP
                (NP
                  (NP[nb]/N an)
                  (N
                    (N/N Oct.)
                    (N
                      (N/N 19)
                      (N review))))
                (NP\NP
                  ((NP\NP)/NP of)
                  (NP
                    (NP
                      (NP[nb]/N The)
                      (N Misanthrope))
                    (NP\NP
                      ((NP\NP)/NP at)
                      (NP
                        (NP[nb]/N
                          (NP
                            (N Chicago))
                          ((NP[nb]/N)\NP 's))
                        (N
                          (N/N Goodman)
                          (N Theatre)))))))
              (NP\NP
                (NP\NP
                  ((NP\NP)/S[dcl] -LRB-)
                  (S[dcl]
                    (S[dcl]
                      (S[dcl]
                        (NP
                          (N
                            (N/N Revitalized)
                            (N Classics)))
                        (S[dcl]\NP
                          (S[dcl]\NP
                            ((S[dcl]\NP)/NP Take)
                            (NP
                              (NP[nb]/N the)
                              (N Stage)))
                          ((S\NP)\(S\NP)
                            (((S\NP)\(S\NP))/NP in)
                            (NP
                              (N
                                (N/N Windy)
                                (N City))))))
                      (, ,))
                    (S\S
                      ((S\S)/(S\S) Leisure)
                      (S\S
                        ((S\S)/(S\S) &)
                        (S\S Arts)))))
                (RRB -RRB-))))
          (S[dcl]
            (, ,)
            (S[dcl]
              (NP
                (NP
                  (NP
                    (NP
                      (NP
                        (NP[nb]/N the)
                        (N role))
                      (NP\NP
                        ((NP\NP)/NP of)
                        (NP
                          (N Celimene))))
                    (, ,))
                  (NP\NP
                    (S[pss]\NP
                      (S[pss]\NP played)
                      ((S\NP)\(S\NP)
                        (((S\NP)\(S\NP))/NP by)
                        (NP
                          (N
                            (N/N Kim)
                            (N Cattrall)))))))
                (, ,))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[pss]\NP) was)
                (S[pss]\NP
                  ((S\NP)/(S\NP) mistakenly)
                  (S[pss]\NP
                    ((S[pss]\NP)/PP attributed)
                    (PP
                      (PP/NP to)
                      (NP
                        (N
                          (N/N Christina)
                          (N Haag))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S/S
            ((S/S)/NP In)
            (NP
              (NP[nb]/N an)
              (N
                (N/N Oct.)
                (N
                  (N/N 19)
                  (N
                    (N
                      (N review)
                      (N\N
                        ((N\N)/NP of)
                        (NP
                          (NP[nb]/N The)
                          (N
                            (N Misanthrope)
                            (N\N
                              ((N\N)/NP at)
                              (NP
                                (NP[nb]/N
                                  (NP
                                    (N Chicago))
                                  ((NP[nb]/N)\NP 's))
                                (N
                                  (N/N Goodman)
                                  (N Theatre))))))))
                    (N\N
                      (N\N
                        ((N\N)/S[dcl] -LRB-)
                        (S[dcl]
                          (S[dcl]
                            (S[dcl]
                              (NP
                                (N
                                  (N/N Revitalized)
                                  (N Classics)))
                              (S[dcl]\NP
                                (S[dcl]\NP
                                  ((S[dcl]\NP)/NP Take)
                                  (NP
                                    (NP[nb]/N the)
                                    (N Stage)))
                                ((S\NP)\(S\NP)
                                  (((S\NP)\(S\NP))/NP in)
                                  (NP
                                    (N
                                      (N/N Windy)
                                      (N City))))))
                            (, ,))
                          (S\S
                            ((S\S)/(S\S) Leisure)
                            (S\S
                              ((S\S)/(S\S) &)
                              (S\S Arts)))))
                      (RRB -RRB-)))))))
          (S[dcl]
            (, ,)
            (S[dcl]
              (NP
                (NP
                  (NP
                    (NP
                      (NP[nb]/N the)
                      (N
                        (N role)
                        (N\N
                          ((N\N)/NP of)
                          (NP
                            (N Celimene)))))
                    (, ,))
                  (NP\NP
                    (S[pss]\NP
                      (S[pss]\NP played)
                      ((S\NP)\(S\NP)
                        (((S\NP)\(S\NP))/NP by)
                        (NP
                          (N
                            (N/N Kim)
                            (N Cattrall)))))))
                (, ,))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[pss]\NP) was)
                (S[pss]\NP
                  ((S\NP)/(S\NP) mistakenly)
                  (S[pss]\NP
                    ((S[pss]\NP)/PP attributed)
                    (PP
                      (PP/NP to)
                      (NP
                        (N
                          (N/N Christina)
                          (N Haag))))))))))
        (. .)))
    True
    """
    pass

def test02b():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0200.2')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N
              (N/N Ms.)
              (N Haag)))
          (S[dcl]\NP
            ((S[dcl]\NP)/NP plays)
            (NP
              (N Elianti))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N
              (N/N Ms.)
              (N Haag)))
          (S[dcl]\NP
            ((S[dcl]\NP)/NP plays)
            (NP
              (N Elianti))))
        (. .)))
    True
    """
    pass

def test02c():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0201.1')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N
              (N/N Rolls-Royce)
              (N
                (N/N Motor)
                (N
                  (N/N Cars)
                  (N Inc.)))))
          (S[dcl]\NP
            ((S[dcl]\NP)/S[dcl] said)
            (S[dcl]
              (NP it)
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[to]\NP)
                  (((S[dcl]\NP)/(S[to]\NP))/NP expects)
                  (NP
                    (NP[nb]/N its)
                    (N
                      (N/N U.S.)
                      (N sales))))
                (S[to]\NP
                  ((S[to]\NP)/(S[b]\NP) to)
                  (S[b]\NP
                    (S[b]\NP
                      (S[b]\NP
                        ((S[b]\NP)/(S[adj]\NP) remain)
                        (S[adj]\NP steady))
                      ((S\NP)\(S\NP)
                        (((S\NP)\(S\NP))/NP at)
                        (NP
                          (N
                            (N/N
                              ((N/N)/(N/N) about)
                              (N/N 1,200))
                            (N cars)))))
                    ((S\NP)\(S\NP)
                      (((S\NP)\(S\NP))/NP in)
                      (NP
                        (N 1990)))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N
              (N/N Rolls-Royce)
              (N
                (N/N Motor)
                (N
                  (N/N Cars)
                  (N Inc.)))))
          (S[dcl]\NP
            ((S[dcl]\NP)/S[dcl] said)
            (S[dcl]
              (NP it)
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[to]\NP)
                  (((S[dcl]\NP)/(S[to]\NP))/NP expects)
                  (NP
                    (NP[nb]/N its)
                    (N
                      (N/N U.S.)
                      (N sales))))
                (S[to]\NP
                  ((S[to]\NP)/(S[b]\NP) to)
                  (S[b]\NP
                    (S[b]\NP
                      (S[b]\NP
                        ((S[b]\NP)/(S[adj]\NP) remain)
                        (S[adj]\NP steady))
                      ((S\NP)\(S\NP)
                        (((S\NP)\(S\NP))/NP at)
                        (NP
                          (N
                            (N/N
                              ((N/N)/(N/N) about)
                              (N/N 1,200))
                            (N cars)))))
                    ((S\NP)\(S\NP)
                      (((S\NP)\(S\NP))/NP in)
                      (NP
                        (N 1990)))))))))
        (. .)))
    True
    """
    pass

def test02d():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0201.2')
    (S
      (S[dcl]
        (NP
          (NP[nb]/N The)
          (N
            (N/N luxury)
            (N
              (N/N auto)
              (N maker))))
        (S[dcl]\NP
          ((S\NP)/(S\NP)
            (((S\NP)/(S\NP))/((S\NP)/(S\NP)) last)
            ((S\NP)/(S\NP) year))
          (S[dcl]\NP
            (S[dcl]\NP
              ((S[dcl]\NP)/NP sold)
              (NP
                (N
                  (N/N 1,214)
                  (N cars))))
            ((S\NP)\(S\NP)
              (((S\NP)\(S\NP))/NP in)
              (NP
                (NP[nb]/N the)
                (N U.S.)))))))
    True
    (S
      (S[dcl]
        (NP
          (NP[nb]/N The)
          (N
            (N/N luxury)
            (N
              (N/N auto)
              (N maker))))
        (S[dcl]\NP
          ((S\NP)/(S\NP)
            (((S\NP)/(S\NP))/((S\NP)/(S\NP)) last)
            ((S\NP)/(S\NP) year))
          (S[dcl]\NP
            (S[dcl]\NP
              ((S[dcl]\NP)/NP sold)
              (NP
                (N
                  (N/N 1,214)
                  (N cars))))
            ((S\NP)\(S\NP)
              (((S\NP)\(S\NP))/NP in)
              (NP
                (NP[nb]/N the)
                (N U.S.)))))))
    True

    """
    pass

def test02e():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0201.3')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP
              (NP
                (N
                  (N/N Howard)
                  (N Mosher)))
              (NP[conj]
                (, ,)
                (NP
                  (NP
                    (N president))
                  (NP[conj]
                    (conj and)
                    (NP
                      (N
                        (N/N chief)
                        (N
                          (N/N executive)
                          (N officer))))))))
            (, ,))
          (S[dcl]\NP
            ((S[dcl]\NP)/S[dcl] said)
            (S[dcl]
              (NP he)
              (S[dcl]\NP
                ((S[dcl]\NP)/NP anticipates)
                (NP
                  (NP
                    (NP
                      (N growth))
                    (NP\NP
                      ((NP\NP)/NP for)
                      (NP
                        (NP[nb]/N the)
                        (N
                          (N/N luxury)
                          (N
                            (N/N auto)
                            (N maker))))))
                  (NP\NP
                    (NP\NP
                      ((NP\NP)/NP in)
                      (NP
                        (N
                          (N Britain)
                          (N[conj]
                            (conj and)
                            (N Europe)))))
                    (NP\NP[conj]
                      (, ,)
                      (NP\NP[conj]
                        (conj and)
                        (NP\NP
                          ((NP\NP)/NP in)
                          (NP
                            (N
                              (N/N
                                ((N/N)/(N/N) Far)
                                (N/N Eastern))
                              (N markets))))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP
              (N
                (N
                  (N/N Howard)
                  (N Mosher))
                (N[conj]
                  (, ,)
                  (N
                    (N president)
                    (N[conj]
                      (conj and)
                      (N
                        (N/N chief)
                        (N
                          (N/N executive)
                          (N officer))))))))
            (, ,))
          (S[dcl]\NP
            ((S[dcl]\NP)/S[dcl] said)
            (S[dcl]
              (NP he)
              (S[dcl]\NP
                ((S[dcl]\NP)/NP anticipates)
                (NP
                  (N
                    (N
                      (N growth)
                      (N\N
                        ((N\N)/NP for)
                        (NP
                          (NP[nb]/N the)
                          (N
                            (N/N luxury)
                            (N
                              (N/N auto)
                              (N maker))))))
                    (N\N
                      (N\N
                        ((N\N)/NP in)
                        (NP
                          (N
                            (N Britain)
                            (N[conj]
                              (conj and)
                              (N Europe)))))
                      (N\N[conj]
                        (, ,)
                        (N\N[conj]
                          (conj and)
                          (N\N
                            ((N\N)/NP in)
                            (NP
                              (N
                                (N/N
                                  ((N/N)/(N/N) Far)
                                  (N/N Eastern))
                                (N markets)))))))))))))
        (. .)))
    True
    """
    pass

def test02f():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0202.1')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N
              (N/N BELL)
              (N
                (N/N INDUSTRIES)
                (N Inc.))))
          (S[dcl]\NP
            (S[dcl]\NP
              (S[dcl]\NP
                ((S[dcl]\NP)/NP increased)
                (NP
                  (NP[nb]/N its)
                  (N quarterly)))
              ((S\NP)\(S\NP)
                (((S\NP)\(S\NP))/NP to)
                (NP
                  (N
                    (N/N 10)
                    (N cents)))))
            ((S\NP)\(S\NP)
              (((S\NP)\(S\NP))/NP from)
              (NP
                (NP
                  (N
                    (N/N seven)
                    (N cents)))
                (NP\NP
                  ((NP\NP)/N a)
                  (N share))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N
              (N/N BELL)
              (N
                (N/N INDUSTRIES)
                (N Inc.))))
          (S[dcl]\NP
            (S[dcl]\NP
              (S[dcl]\NP
                ((S[dcl]\NP)/NP increased)
                (NP
                  (NP[nb]/N its)
                  (N quarterly)))
              ((S\NP)\(S\NP)
                (((S\NP)\(S\NP))/NP to)
                (NP
                  (N
                    (N/N 10)
                    (N cents)))))
            ((S\NP)\(S\NP)
              (((S\NP)\(S\NP))/NP from)
              (NP
                (N
                  (N/N seven)
                  (N
                    (N cents)
                    (N\N
                      ((N\N)/N a)
                      (N share))))))))
        (. .)))
    True
    """
    pass

def test02g():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0202.2')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N The)
            (N
              (N/N new)
              (N rate)))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[b]\NP) will)
            (S[b]\NP
              ((S[b]\NP)/(S[adj]\NP) be)
              (S[adj]\NP
                ((S[adj]\NP)/NP payable)
                (NP
                  (N
                    (N/N[num] Feb.)
                    (N[num] 15)))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N The)
            (N
              (N/N new)
              (N rate)))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[b]\NP) will)
            (S[b]\NP
              ((S[b]\NP)/(S[adj]\NP) be)
              (S[adj]\NP
                ((S[adj]\NP)/NP payable)
                (NP
                  (N
                    (N/N[num] Feb.)
                    (N[num] 15)))))))
        (. .)))
    True
    """
    pass

def test02h():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0202.3')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N A)
            (N
              (N/N record)
              (N date)))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[pt]\NP)
              ((S[dcl]\NP)/(S[pt]\NP) has)
              ((S\NP)\(S\NP) n't))
            (S[pt]\NP
              ((S[pt]\NP)/(S[pss]\NP) been)
              (S[pss]\NP set))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N A)
            (N
              (N/N record)
              (N date)))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[pt]\NP)
              ((S[dcl]\NP)/(S[pt]\NP) has)
              ((S\NP)\(S\NP) n't))
            (S[pt]\NP
              ((S[pt]\NP)/(S[pss]\NP) been)
              (S[pss]\NP set))))
        (. .)))
    True

    """
    pass

def test02i():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0202.4')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP
              (NP
                (NP
                  (N Bell))
                (, ,))
              (NP\NP
                (S[pss]\NP
                  (S[pss]\NP based)
                  ((S\NP)\(S\NP)
                    (((S\NP)\(S\NP))/NP in)
                    (NP
                      (N
                        (N/N Los)
                        (N Angeles)))))))
            (, ,))
          (S[dcl]\NP
            ((S[dcl]\NP)/NP
              ((S[dcl]\NP)/NP makes)
              ((S[dcl]\NP)/NP[conj]
                (conj and)
                ((S[dcl]\NP)/NP distributes)))
            (NP
              (N
                (N/N
                  (N/N electronic)
                  (N/N[conj]
                    (, ,)
                    (N/N
                      (N/N computer)
                      (N/N[conj]
                        (conj and)
                        (N/N building)))))
                (N products)))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP
              (NP
                (NP
                  (N Bell))
                (, ,))
              (NP\NP
                (S[pss]\NP
                  (S[pss]\NP based)
                  ((S\NP)\(S\NP)
                    (((S\NP)\(S\NP))/NP in)
                    (NP
                      (N
                        (N/N Los)
                        (N Angeles)))))))
            (, ,))
          (S[dcl]\NP
            ((S[dcl]\NP)/NP
              ((S[dcl]\NP)/NP makes)
              ((S[dcl]\NP)/NP[conj]
                (conj and)
                ((S[dcl]\NP)/NP distributes)))
            (NP
              (N
                (N/N
                  (N/N electronic)
                  (N/N[conj]
                    (, ,)
                    (N/N
                      (N/N computer)
                      (N/N[conj]
                        (conj and)
                        (N/N building)))))
                (N products)))))
        (. .)))
    True

    """
    pass

def test02j():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.1')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N Investors))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[ng]\NP) are)
            (S[ng]\NP
              ((S[ng]\NP)/(S[to]\NP)
                (((S[ng]\NP)/(S[to]\NP))/PP appealing)
                (PP
                  (PP/NP to)
                  (NP
                    (NP[nb]/N the)
                    (N
                      (N/N Securities)
                      (N
                        (conj and)
                        (N
                          (N/N Exchange)
                          (N Commission)))))))
              (S[to]\NP
                ((S\NP)/(S\NP) not)
                (S[to]\NP
                  ((S[to]\NP)/(S[b]\NP) to)
                  (S[b]\NP
                    ((S[b]\NP)/NP limit)
                    (NP
                      (NP
                        (NP[nb]/N their)
                        (N access))
                      (NP\NP
                        ((NP\NP)/NP to)
                        (NP
                          (NP
                            (N information))
                          (NP\NP
                            ((NP\NP)/NP about)
                            (NP
                              (NP
                                (N
                                  (N/N stock)
                                  (N
                                    (N purchases)
                                    (N[conj]
                                      (conj and)
                                      (N sales)))))
                              (NP\NP
                                ((NP\NP)/NP by)
                                (NP
                                  (N
                                    (N/N corporate)
                                    (N insiders)))))))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N Investors))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[ng]\NP) are)
            (S[ng]\NP
              ((S[ng]\NP)/(S[to]\NP)
                (((S[ng]\NP)/(S[to]\NP))/PP appealing)
                (PP
                  (PP/NP to)
                  (NP
                    (NP[nb]/N the)
                    (N
                      (N/N Securities)
                      (N
                        (conj and)
                        (N
                          (N/N Exchange)
                          (N Commission)))))))
              (S[to]\NP
                ((S\NP)/(S\NP) not)
                (S[to]\NP
                  ((S[to]\NP)/(S[b]\NP) to)
                  (S[b]\NP
                    ((S[b]\NP)/NP limit)
                    (NP
                      (NP[nb]/N their)
                      (N
                        (N access)
                        (N\N
                          ((N\N)/NP to)
                          (NP
                            (N
                              (N information)
                              (N\N
                                ((N\N)/NP about)
                                (NP
                                  (N
                                    (N/N stock)
                                    (N
                                      (N
                                        (N purchases)
                                        (N[conj]
                                          (conj and)
                                          (N sales)))
                                      (N\N
                                        ((N\N)/NP by)
                                        (NP
                                          (N
                                            (N/N corporate)
                                            (N insiders)))))))))))))))))))
        (. .)))
    True

    """
    pass

def test02k():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.2')
    (S
      (S[dcl]
        (S[dcl]
          (S[dcl]
            (NP
              (NP[nb]/N A)
              (N
                (N/N SEC)
                (N
                  (N proposal)
                  (N\N
                    (S[to]\NP
                      ((S[to]\NP)/(S[b]\NP) to)
                      (S[b]\NP
                        ((S[b]\NP)/NP ease)
                        (NP
                          (NP
                            (N
                              (N/N reporting)
                              (N requirements)))
                          (NP\NP
                            ((NP\NP)/NP for)
                            (NP
                              (NP[nb]/N some)
                              (N
                                (N/N company)
                                (N executives)))))))))))
            (S[dcl]\NP
              ((S[dcl]\NP)/(S[b]\NP) would)
              (S[b]\NP
                ((S[b]\NP)/NP undermine)
                (NP
                  (NP
                    (NP
                      (NP[nb]/N the)
                      (N usefulness))
                    (NP\NP
                      ((NP\NP)/NP of)
                      (NP
                        (NP
                          (N information))
                        (NP\NP
                          ((NP\NP)/NP on)
                          (NP
                            (N
                              (N/N insider)
                              (N trades)))))))
                  (NP\NP
                    ((NP\NP)/NP as)
                    (NP
                      (NP[nb]/N a)
                      (N
                        (N/N stock-picking)
                        (N tool))))))))
          (S[dcl]\S[dcl]
            (, ,)
            (S[dcl]\S[dcl]
              (NP
                (NP
                  (N
                    (N/N individual)
                    (N investors)))
                (NP[conj]
                  (conj and)
                  (NP
                    (N
                      (N/N professional)
                      (N
                        (N/N money)
                        (N managers))))))
              ((S[dcl]\S[dcl])\NP contend))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S[dcl]
            (NP
              (NP[nb]/N A)
              (N
                (N/N SEC)
                (N
                  (N proposal)
                  (N\N
                    (S[to]\NP
                      ((S[to]\NP)/(S[b]\NP) to)
                      (S[b]\NP
                        ((S[b]\NP)/NP ease)
                        (NP
                          (N
                            (N/N reporting)
                            (N
                              (N requirements)
                              (N\N
                                ((N\N)/NP for)
                                (NP
                                  (NP[nb]/N some)
                                  (N
                                    (N/N company)
                                    (N executives)))))))))))))
            (S[dcl]\NP
              ((S[dcl]\NP)/(S[b]\NP) would)
              (S[b]\NP
                ((S[b]\NP)/NP undermine)
                (NP
                  (NP[nb]/N the)
                  (N
                    (N
                      (N usefulness)
                      (N\N
                        ((N\N)/NP of)
                        (NP
                          (N
                            (N information)
                            (N\N
                              ((N\N)/NP on)
                              (NP
                                (N
                                  (N/N insider)
                                  (N trades))))))))
                    (N\N
                      ((N\N)/NP as)
                      (NP
                        (NP[nb]/N a)
                        (N
                          (N/N stock-picking)
                          (N tool)))))))))
          (S[dcl]\S[dcl]
            (, ,)
            (S[dcl]\S[dcl]
              (NP
                (N
                  (N
                    (N/N individual)
                    (N investors))
                  (N[conj]
                    (conj and)
                    (N
                      (N/N professional)
                      (N
                        (N/N money)
                        (N managers))))))
              ((S[dcl]\S[dcl])\NP contend))))
        (. .)))
    True

    """
    pass

def test02l():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.3')
    (S
      (S[dcl]
        (S[dcl]
          (NP They)
          (S[dcl]\NP
            (S[dcl]\NP
              ((S[dcl]\NP)/NP make)
              (NP
                (NP[nb]/N the)
                (N argument)))
            ((S\NP)\(S\NP)
              (((S\NP)\(S\NP))/NP in)
              (NP
                (NP
                  (NP
                    (N letters))
                  (NP\NP
                    ((NP\NP)/NP to)
                    (NP
                      (NP[nb]/N the)
                      (N agency))))
                (NP\NP
                  ((NP\NP)/NP about)
                  (NP
                    (NP
                      (NP
                        (N
                          (N/N rule)
                          (N changes)))
                      (NP\NP
                        (S[pss]\NP
                          (S[pss]\NP proposed)
                          ((S\NP)\(S\NP)
                            (((S\NP)\(S\NP))/N this)
                            (N
                              (N/N past)
                              (N summer))))))
                    (NP\NP
                      ((NP\NP)/(S[dcl]\NP)
                        ((NP\NP)/(S[dcl]\NP) that)
                        (, ,))
                      (S[dcl]\NP
                        ((S\NP)/(S\NP)
                          (((S\NP)/(S\NP))/NP among)
                          (NP
                            (N
                              (N/N other)
                              (N things))))
                        (S[dcl]\NP
                          (, ,)
                          (S[dcl]\NP
                            ((S[dcl]\NP)/(S[b]\NP) would)
                            (S[b]\NP
                              ((S[b]\NP)/PP
                                (((S[b]\NP)/PP)/NP exempt)
                                (NP
                                  (N
                                    (N/N many)
                                    (N
                                      (N/N middle-management)
                                      (N executives)))))
                              (PP
                                (PP/(S[ng]\NP) from)
                                (S[ng]\NP
                                  ((S[ng]\NP)/NP reporting)
                                  (NP
                                    (NP
                                      (N trades))
                                    (NP\NP
                                      ((NP\NP)/NP in)
                                      (NP
                                        (NP[nb]/N
                                          (NP
                                            (NP[nb]/N their)
                                            (N
                                              (N/N own)
                                              (N companies)))
                                          ((NP[nb]/N)\NP '))
                                        (N shares)))))))))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP They)
          (S[dcl]\NP
            (S[dcl]\NP
              ((S[dcl]\NP)/NP make)
              (NP
                (NP[nb]/N the)
                (N argument)))
            ((S\NP)\(S\NP)
              (((S\NP)\(S\NP))/NP in)
              (NP
                (N
                  (N
                    (N letters)
                    (N\N
                      ((N\N)/NP to)
                      (NP
                        (NP[nb]/N the)
                        (N agency))))
                  (N\N
                    ((N\N)/NP about)
                    (NP
                      (N
                        (N/N rule)
                        (N
                          (N
                            (N changes)
                            (N\N
                              (S[pss]\NP
                                (S[pss]\NP proposed)
                                ((S\NP)\(S\NP)
                                  (((S\NP)\(S\NP))/N this)
                                  (N
                                    (N/N past)
                                    (N summer))))))
                          (N\N
                            ((N\N)/(S[dcl]\NP)
                              ((N\N)/(S[dcl]\NP) that)
                              (, ,))
                            (S[dcl]\NP
                              ((S\NP)/(S\NP)
                                (((S\NP)/(S\NP))/NP among)
                                (NP
                                  (N
                                    (N/N other)
                                    (N things))))
                              (S[dcl]\NP
                                (, ,)
                                (S[dcl]\NP
                                  ((S[dcl]\NP)/(S[b]\NP) would)
                                  (S[b]\NP
                                    ((S[b]\NP)/PP
                                      (((S[b]\NP)/PP)/NP exempt)
                                      (NP
                                        (N
                                          (N/N many)
                                          (N
                                            (N/N middle-management)
                                            (N executives)))))
                                    (PP
                                      (PP/(S[ng]\NP) from)
                                      (S[ng]\NP
                                        ((S[ng]\NP)/NP reporting)
                                        (NP
                                          (N
                                            (N trades)
                                            (N\N
                                              ((N\N)/NP in)
                                              (NP
                                                (NP[nb]/N
                                                  (NP
                                                    (NP[nb]/N their)
                                                    (N
                                                      (N/N own)
                                                      (N companies)))
                                                  ((NP[nb]/N)\NP '))
                                                (N shares)))))))))))))))))))))
        (. .)))
    True
    """
    pass

def test02m():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.4')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N The)
            (N
              (N/N proposed)
              (N changes)))
          (S[dcl]\NP
            ((S\NP)/(S\NP) also)
            (S[dcl]\NP
              ((S[dcl]\NP)/(S[b]\NP) would)
              (S[b]\NP
                ((S[b]\NP)/(S[to]\NP)
                  (((S[b]\NP)/(S[to]\NP))/NP allow)
                  (NP
                    (N executives)))
                (S[to]\NP
                  ((S[to]\NP)/(S[b]\NP) to)
                  (S[b]\NP
                    (S[b]\NP
                      ((S[b]\NP)/NP report)
                      (NP
                        (NP
                          (N exercises))
                        (NP\NP
                          ((NP\NP)/NP of)
                          (NP
                            (N options)))))
                    ((S\NP)\(S\NP)
                      ((S\NP)\(S\NP) later)
                      ((S\NP)\(S\NP)[conj]
                        (conj and)
                        ((S\NP)\(S\NP)
                          (((S\NP)\(S\NP))/((S\NP)\(S\NP)) less)
                          ((S\NP)\(S\NP) often))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N The)
            (N
              (N/N proposed)
              (N changes)))
          (S[dcl]\NP
            ((S\NP)/(S\NP) also)
            (S[dcl]\NP
              ((S[dcl]\NP)/(S[b]\NP) would)
              (S[b]\NP
                ((S[b]\NP)/(S[to]\NP)
                  (((S[b]\NP)/(S[to]\NP))/NP allow)
                  (NP
                    (N executives)))
                (S[to]\NP
                  ((S[to]\NP)/(S[b]\NP) to)
                  (S[b]\NP
                    (S[b]\NP
                      ((S[b]\NP)/NP report)
                      (NP
                        (N
                          (N exercises)
                          (N\N
                            ((N\N)/NP of)
                            (NP
                              (N options))))))
                    ((S\NP)\(S\NP)
                      ((S\NP)\(S\NP) later)
                      ((S\NP)\(S\NP)[conj]
                        (conj and)
                        ((S\NP)\(S\NP)
                          (((S\NP)\(S\NP))/((S\NP)\(S\NP)) less)
                          ((S\NP)\(S\NP) often))))))))))
        (. .)))
    True
    """
    pass

def test02n():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.5')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP
              (N Many))
            (NP\NP
              ((NP\NP)/NP of)
              (NP
                (NP[nb]/N the)
                (N letters))))
          (S[dcl]\NP
            ((S[dcl]\NP)/S[em] maintain)
            (S[em]
              (S[em]/S[dcl] that)
              (S[dcl]
                (S[dcl]/S[em]
                  (S[dcl]/S[em]
                    (S[dcl]/S[em]
                      (S[dcl]/S[em]
                        (S/(S\NP)
                          (NP
                            (N
                              (N/N investor)
                              (N confidence))))
                        ((S[dcl]\NP)/S[em]
                          ((S[dcl]\NP)/(S[pt]\NP) has)
                          ((S[pt]\NP)/S[em]
                            ((S[pt]\NP)/(S[pss]\NP) been)
                            ((S[pss]\NP)/S[em]
                              ((S\NP)/(S\NP) so)
                              ((S[pss]\NP)/S[em]
                                ((S[pss]\NP)/S[em] shaken)
                                ((S\NP)\(S\NP)
                                  (((S\NP)\(S\NP))/NP by)
                                  (NP
                                    (NP[nb]/N the)
                                    (N
                                      (N/N 1987)
                                      (N
                                        (N/N stock)
                                        (N
                                          (N/N market)
                                          (N crash)))))))))))
                      (: --))
                    (S[dcl]/S[em][conj]
                      (conj and)
                      (S[dcl]/S[em]
                        (S/(S\NP)
                          (NP
                            (NP[nb]/N the)
                            (N markets)))
                        ((S[dcl]\NP)/S[em]
                          ((S\NP)/(S\NP) already)
                          ((S[dcl]\NP)/S[em]
                            ((S\NP)/(S\NP) so)
                            ((S[dcl]\NP)/S[em]
                              ((S[dcl]\NP)/S[em] stacked)
                              ((S\NP)\(S\NP)
                                (((S\NP)\(S\NP))/NP against)
                                (NP
                                  (NP[nb]/N the)
                                  (N
                                    (N/N little)
                                    (N guy))))))))))
                  (: --))
                (S[em]
                  (S[em]/S[dcl] that)
                  (S[dcl]
                    (NP
                      (NP
                        (NP[nb]/N any)
                        (N decrease))
                      (NP\NP
                        ((NP\NP)/NP in)
                        (NP
                          (NP
                            (N information))
                          (NP\NP
                            ((NP\NP)/NP on)
                            (NP
                              (N
                                (N/N insider-trading)
                                (N patterns)))))))
                    (S[dcl]\NP
                      ((S[dcl]\NP)/(S[b]\NP) might)
                      (S[b]\NP
                        ((S[b]\NP)/(S[to]\NP)
                          (((S[b]\NP)/(S[to]\NP))/NP prompt)
                          (NP
                            (N individuals)))
                        (S[to]\NP
                          ((S[to]\NP)/(S[b]\NP) to)
                          (S[b]\NP
                            (S[b]\NP
                              (S[b]\NP get)
                              ((S\NP)\(S\NP)
                                (((S\NP)\(S\NP))/PP out)
                                (PP
                                  (PP/NP of)
                                  (NP
                                    (N stocks)))))
                            ((S\NP)\(S\NP) altogether)))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP/PP Many)
            (PP
              (PP/NP of)
              (NP
                (NP[nb]/N the)
                (N letters))))
          (S[dcl]\NP
            ((S[dcl]\NP)/S[em] maintain)
            (S[em]
              (S[em]/S[dcl] that)
              (S[dcl]
                (S[dcl]/S[em]
                  (S[dcl]/S[em]
                    (S[dcl]/S[em]
                      (S[dcl]/S[em]
                        (S/(S\NP)
                          (NP
                            (N
                              (N/N investor)
                              (N confidence))))
                        ((S[dcl]\NP)/S[em]
                          ((S[dcl]\NP)/(S[pt]\NP) has)
                          ((S[pt]\NP)/S[em]
                            ((S[pt]\NP)/(S[pss]\NP) been)
                            ((S[pss]\NP)/S[em]
                              ((S\NP)/(S\NP) so)
                              ((S[pss]\NP)/S[em]
                                ((S[pss]\NP)/S[em] shaken)
                                ((S\NP)\(S\NP)
                                  (((S\NP)\(S\NP))/NP by)
                                  (NP
                                    (NP[nb]/N the)
                                    (N
                                      (N/N 1987)
                                      (N
                                        (N/N stock)
                                        (N
                                          (N/N market)
                                          (N crash)))))))))))
                      (: --))
                    (S[dcl]/S[em][conj]
                      (conj and)
                      (S[dcl]/S[em]
                        (S/(S\NP)
                          (NP
                            (NP[nb]/N the)
                            (N markets)))
                        ((S[dcl]\NP)/S[em]
                          ((S\NP)/(S\NP) already)
                          ((S[dcl]\NP)/S[em]
                            ((S\NP)/(S\NP) so)
                            ((S[dcl]\NP)/S[em]
                              ((S[dcl]\NP)/S[em] stacked)
                              ((S\NP)\(S\NP)
                                (((S\NP)\(S\NP))/NP against)
                                (NP
                                  (NP[nb]/N the)
                                  (N
                                    (N/N little)
                                    (N guy))))))))))
                  (: --))
                (S[em]
                  (S[em]/S[dcl] that)
                  (S[dcl]
                    (NP
                      (NP[nb]/N any)
                      (N
                        (N decrease)
                        (N\N
                          ((N\N)/NP in)
                          (NP
                            (N
                              (N information)
                              (N\N
                                ((N\N)/NP on)
                                (NP
                                  (N
                                    (N/N insider-trading)
                                    (N patterns)))))))))
                    (S[dcl]\NP
                      ((S[dcl]\NP)/(S[b]\NP) might)
                      (S[b]\NP
                        ((S[b]\NP)/(S[to]\NP)
                          (((S[b]\NP)/(S[to]\NP))/NP prompt)
                          (NP
                            (N individuals)))
                        (S[to]\NP
                          ((S[to]\NP)/(S[b]\NP) to)
                          (S[b]\NP
                            (S[b]\NP
                              (S[b]\NP get)
                              ((S\NP)\(S\NP)
                                (((S\NP)\(S\NP))/PP out)
                                (PP
                                  (PP/NP of)
                                  (NP
                                    (N stocks)))))
                            ((S\NP)\(S\NP) altogether)))))))))))
        (. .)))
    True

    """
    pass

def test02o():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.6')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N The)
            (N SEC))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[pt]\NP)
              ((S[dcl]\NP)/(S[pt]\NP) has)
              ((S\NP)\(S\NP) historically))
            (S[pt]\NP
              ((S[pt]\NP)/PP
                (((S[pt]\NP)/PP)/NP paid)
                (NP
                  (N obeisance)))
              (PP
                (PP/NP to)
                (NP
                  (NP
                    (NP[nb]/N the)
                    (N ideal))
                  (NP\NP
                    ((NP\NP)/NP of)
                    (NP
                      (NP[nb]/N a)
                      (N
                        (N/N level)
                        (N
                          (N/N playing)
                          (N field))))))))))
        (S[dcl]\S[dcl]
          (, ,)
          (S[dcl]\S[dcl]
            (S[dcl]\S[dcl]
              (S[dcl]\S[dcl]
                ((S[dcl]\S[dcl])/NP wrote)
                (NP
                  (NP
                    (N
                      (N/N Clyde)
                      (N
                        (N/N S.)
                        (N McGregor))))
                  (NP\NP
                    ((NP\NP)/NP of)
                    (NP
                      (NP
                        (NP
                          (N Winnetka))
                        (NP[conj]
                          (, ,)
                          (NP
                            (N Ill.))))
                      (, ,)))))
              (S\S
                ((S\S)/NP in)
                (NP
                  (NP
                    (N one))
                  (NP\NP
                    ((NP\NP)/NP of)
                    (NP
                      (NP
                        (NP[nb]/N the)
                        (N
                          (N/N 92)
                          (N letters)))
                      (NP\NP
                        (S[dcl]/NP
                          (S/(S\NP)
                            (NP
                              (NP[nb]/N the)
                              (N agency)))
                          ((S[dcl]\NP)/NP
                            ((S[dcl]\NP)/(S[pt]\NP) has)
                            ((S[pt]\NP)/NP
                              ((S[pt]\NP)/NP received)
                              ((S\NP)\(S\NP)
                                (((S\NP)\(S\NP))/S[dcl] since)
                                (S[dcl]
                                  (NP
                                    (NP[nb]/N the)
                                    (N changes))
                                  (S[dcl]\NP
                                    ((S[dcl]\NP)/(S[pss]\NP) were)
                                    (S[pss]\NP
                                      (S[pss]\NP proposed)
                                      ((S\NP)\(S\NP)
                                        (((S\NP)\(S\NP))/N[num] Aug.)
                                        (N[num] 17)))))))))))))))
            (. .)))))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N The)
            (N SEC))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[pt]\NP)
              ((S[dcl]\NP)/(S[pt]\NP) has)
              ((S\NP)\(S\NP) historically))
            (S[pt]\NP
              ((S[pt]\NP)/PP
                (((S[pt]\NP)/PP)/NP paid)
                (NP
                  (N obeisance)))
              (PP
                (PP/NP to)
                (NP
                  (NP[nb]/N the)
                  (N
                    (N ideal)
                    (N\N
                      ((N\N)/NP of)
                      (NP
                        (NP[nb]/N a)
                        (N
                          (N/N level)
                          (N
                            (N/N playing)
                            (N field)))))))))))
        (S[dcl]\S[dcl]
          (, ,)
          (S[dcl]\S[dcl]
            (S[dcl]\S[dcl]
              (S[dcl]\S[dcl]
                ((S[dcl]\S[dcl])/NP wrote)
                (NP
                  (N
                    (N/N Clyde)
                    (N
                      (N/N S.)
                      (N
                        (N McGregor)
                        (N\N
                          ((N\N)/NP of)
                          (NP
                            (NP
                              (N
                                (N Winnetka)
                                (N[conj]
                                  (, ,)
                                  (N Ill.))))
                            (, ,))))))))
              (S\S
                ((S\S)/NP in)
                (NP
                  (NP/PP one)
                  (PP
                    (PP/NP of)
                    (NP
                      (NP[nb]/N the)
                      (N
                        (N/N 92)
                        (N
                          (N letters)
                          (N\N
                            (S[dcl]/NP
                              (S/(S\NP)
                                (NP
                                  (NP[nb]/N the)
                                  (N agency)))
                              ((S[dcl]\NP)/NP
                                ((S[dcl]\NP)/(S[pt]\NP) has)
                                ((S[pt]\NP)/NP
                                  ((S[pt]\NP)/NP received)
                                  ((S\NP)\(S\NP)
                                    (((S\NP)\(S\NP))/S[dcl] since)
                                    (S[dcl]
                                      (NP
                                        (NP[nb]/N the)
                                        (N changes))
                                      (S[dcl]\NP
                                        ((S[dcl]\NP)/(S[pss]\NP) were)
                                        (S[pss]\NP
                                          (S[pss]\NP proposed)
                                          ((S\NP)\(S\NP)
                                            (((S\NP)\(S\NP))/N[num] Aug.)
                                            (N[num] 17)))))))))))))))))
            (. .)))))
    Invalid: N\N --> S[dcl]/NP None
    False

    """
    pass

def test02p():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.7')
    (S
      (S[dcl]
        (S[dcl]
          (S/S Apparently)
          (S[dcl]
            (NP
              (NP[nb]/N the)
              (N commission))
            (S[dcl]\NP
              ((S[dcl]\NP)/(S[b]\NP)
                ((S[dcl]\NP)/(S[b]\NP)
                  ((S[dcl]\NP)/(S[b]\NP) did)
                  ((S\NP)\(S\NP) not))
                ((S\NP)\(S\NP) really))
              (S[b]\NP
                ((S[b]\NP)/PP believe)
                (PP
                  (PP/NP in)
                  (NP
                    (NP[nb]/N this)
                    (N ideal)))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S/S Apparently)
          (S[dcl]
            (NP
              (NP[nb]/N the)
              (N commission))
            (S[dcl]\NP
              ((S[dcl]\NP)/(S[b]\NP)
                ((S[dcl]\NP)/(S[b]\NP)
                  ((S[dcl]\NP)/(S[b]\NP) did)
                  ((S\NP)\(S\NP) not))
                ((S\NP)\(S\NP) really))
              (S[b]\NP
                ((S[b]\NP)/PP believe)
                (PP
                  (PP/NP in)
                  (NP
                    (NP[nb]/N this)
                    (N ideal)))))))
        (. .)))
    True
    """
    pass

def test02q():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.8')
    (S
      (S[dcl]
        (S[dcl]
          (S/S Currently)
          (S[dcl]
            (, ,)
            (S[dcl]
              (NP
                (NP[nb]/N the)
                (N rules))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[to]\NP)
                  (((S[dcl]\NP)/(S[to]\NP))/NP force)
                  (NP
                    (NP
                      (N executives))
                    (NP[conj]
                      (, ,)
                      (NP
                        (NP
                          (N directors))
                        (NP[conj]
                          (conj and)
                          (NP
                            (N
                              (N/N other)
                              (N
                                (N/N corporate)
                                (N insiders)))))))))
                (S[to]\NP
                  ((S[to]\NP)/(S[b]\NP) to)
                  (S[b]\NP
                    (S[b]\NP
                      ((S[b]\NP)/NP report)
                      (NP
                        (NP
                          (N
                            (N purchases)
                            (N[conj]
                              (conj and)
                              (N sales))))
                        (NP\NP
                          ((NP\NP)/NP of)
                          (NP
                            (NP[nb]/N
                              (NP
                                (NP[nb]/N their)
                                (N companies))
                              ((NP[nb]/N)\NP '))
                            (N shares)))))
                    ((S\NP)\(S\NP)
                      (((S\NP)\(S\NP))/NP within)
                      (NP
                        (NP
                          (NP[nb]/N
                            (NP/NP about)
                            (NP[nb]/N a))
                          (N month))
                        (NP\NP
                          ((NP\NP)/NP after)
                          (NP
                            (NP[nb]/N the)
                            (N transaction)))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S/S Currently)
          (S[dcl]
            (, ,)
            (S[dcl]
              (NP
                (NP[nb]/N the)
                (N rules))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[to]\NP)
                  (((S[dcl]\NP)/(S[to]\NP))/NP force)
                  (NP
                    (N
                      (N executives)
                      (N[conj]
                        (, ,)
                        (N
                          (N directors)
                          (N[conj]
                            (conj and)
                            (N
                              (N/N other)
                              (N
                                (N/N corporate)
                                (N insiders)))))))))
                (S[to]\NP
                  ((S[to]\NP)/(S[b]\NP) to)
                  (S[b]\NP
                    (S[b]\NP
                      ((S[b]\NP)/NP report)
                      (NP
                        (N
                          (N
                            (N purchases)
                            (N[conj]
                              (conj and)
                              (N sales)))
                          (N\N
                            ((N\N)/NP of)
                            (NP
                              (NP[nb]/N
                                (NP
                                  (NP[nb]/N their)
                                  (N companies))
                                ((NP[nb]/N)\NP '))
                              (N shares))))))
                    ((S\NP)\(S\NP)
                      (((S\NP)\(S\NP))/NP within)
                      (NP
                        (NP[nb]/N
                          (NP/NP about)
                          (NP[nb]/N a))
                        (N
                          (N month)
                          (N\N
                            ((N\N)/NP after)
                            (NP
                              (NP[nb]/N the)
                              (N transaction))))))))))))
        (. .)))
    True
    """
    pass

def test02r():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.9')
    (S
      (S[dcl]
        (S[dcl]
          (S/S But)
          (S[dcl]
            (NP
              (NP
                (N
                  (N/N
                    ((N/N)/(N/N) about)
                    (N/N 25))
                  (N %)))
              (NP\NP
                ((NP\NP)/NP of)
                (NP
                  (NP[nb]/N the)
                  (N insiders))))
            (S[dcl]\NP
              (, ,)
              (S[dcl]\NP
                ((S\NP)/(S\NP)
                  (((S\NP)/(S\NP))/PP according)
                  (PP
                    (PP/NP to)
                    (NP
                      (N
                        (N/N SEC)
                        (N figures)))))
                (S[dcl]\NP
                  (, ,)
                  (S[dcl]\NP
                    (S[dcl]\NP
                      ((S[dcl]\NP)/NP file)
                      (NP
                        (NP[nb]/N their)
                        (N reports)))
                    ((S\NP)\(S\NP) late)))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S/S But)
          (S[dcl]
            (NP
              (N
                (N/N
                  ((N/N)/(N/N) about)
                  (N/N 25))
                (N
                  (N %)
                  (N\N
                    ((N\N)/NP of)
                    (NP
                      (NP[nb]/N the)
                      (N insiders))))))
            (S[dcl]\NP
              (, ,)
              (S[dcl]\NP
                ((S\NP)/(S\NP)
                  (((S\NP)/(S\NP))/PP according)
                  (PP
                    (PP/NP to)
                    (NP
                      (N
                        (N/N SEC)
                        (N figures)))))
                (S[dcl]\NP
                  (, ,)
                  (S[dcl]\NP
                    (S[dcl]\NP
                      ((S[dcl]\NP)/NP file)
                      (NP
                        (NP[nb]/N their)
                        (N reports)))
                    ((S\NP)\(S\NP) late)))))))
        (. .)))
    True
    """
    pass

def test02s():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.10')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N The)
            (N changes))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[pss]\NP) were)
            (S[pss]\NP
              (S[pss]\NP proposed)
              ((S\NP)\(S\NP)
                (((S\NP)\(S\NP))/NP in)
                (NP
                  (NP[nb]/N an)
                  (N
                    (N effort)
                    (N\N
                      (S[to]\NP
                        ((S[to]\NP)/(S[b]\NP) to)
                        (S[b]\NP
                          (S[b]\NP
                            ((S[b]\NP)/NP streamline)
                            (NP
                              (N
                                (N/N federal)
                                (N bureaucracy))))
                          (S[b]\NP[conj]
                            (conj and)
                            (S[b]\NP
                              ((S[b]\NP)/NP boost)
                              (NP
                                (NP
                                  (N compliance))
                                (NP\NP
                                  ((NP\NP)/NP by)
                                  (NP
                                    (NP
                                      (NP[nb]/N the)
                                      (N executives))
                                    (NP\NP
                                      ((NP\NP)/(S[dcl]\NP) who)
                                      (S[dcl]\NP
                                        ((S[dcl]\NP)/(S[ng]\NP)
                                          ((S[dcl]\NP)/(S[ng]\NP) are)
                                          ((S\NP)\(S\NP) really))
                                        (S[ng]\NP
                                          ((S[ng]\NP)/NP calling)
                                          (NP
                                            (NP[nb]/N the)
                                            (N shots)))))))))))))))))))
        (S[dcl]\S[dcl]
          (, ,)
          (S[dcl]\S[dcl]
            (S[dcl]\S[dcl]
              ((S[dcl]\S[dcl])/NP said)
              (NP
                (NP
                  (N
                    (N/N Brian)
                    (N Lane)))
                (NP[conj]
                  (, ,)
                  (NP
                    (NP
                      (N
                        (N/N special)
                        (N counsel)))
                    (NP\NP
                      ((NP\NP)/NP at)
                      (NP
                        (NP
                          (NP
                            (NP
                              (NP[nb]/N
                                (NP
                                  (NP[nb]/N the)
                                  (N SEC))
                                ((NP[nb]/N)\NP 's))
                              (N office))
                            (NP\NP
                              ((NP\NP)/NP of)
                              (NP
                                (N
                                  (N/N disclosure)
                                  (N policy)))))
                          (, ,))
                        (NP\NP
                          ((NP\NP)/(S[dcl]\NP) which)
                          (S[dcl]\NP
                            ((S[dcl]\NP)/NP proposed)
                            (NP
                              (NP[nb]/N the)
                              (N changes))))))))))
            (. .)))))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N The)
            (N changes))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[pss]\NP) were)
            (S[pss]\NP
              (S[pss]\NP proposed)
              ((S\NP)\(S\NP)
                (((S\NP)\(S\NP))/NP in)
                (NP
                  (NP[nb]/N an)
                  (N
                    (N effort)
                    (N\N
                      (S[to]\NP
                        ((S[to]\NP)/(S[b]\NP) to)
                        (S[b]\NP
                          (S[b]\NP
                            ((S[b]\NP)/NP streamline)
                            (NP
                              (N
                                (N/N federal)
                                (N bureaucracy))))
                          (S[b]\NP[conj]
                            (conj and)
                            (S[b]\NP
                              ((S[b]\NP)/NP boost)
                              (NP
                                (N
                                  (N compliance)
                                  (N\N
                                    ((N\N)/NP by)
                                    (NP
                                      (NP[nb]/N the)
                                      (N
                                        (N executives)
                                        (N\N
                                          ((N\N)/(S[dcl]\NP) who)
                                          (S[dcl]\NP
                                            ((S[dcl]\NP)/(S[ng]\NP)
                                              ((S[dcl]\NP)/(S[ng]\NP) are)
                                              ((S\NP)\(S\NP) really))
                                            (S[ng]\NP
                                              ((S[ng]\NP)/NP calling)
                                              (NP
                                                (NP[nb]/N the)
                                                (N shots)))))))))))))))))))))
        (S[dcl]\S[dcl]
          (, ,)
          (S[dcl]\S[dcl]
            (S[dcl]\S[dcl]
              ((S[dcl]\S[dcl])/NP said)
              (NP
                (NP
                  (N
                    (N/N Brian)
                    (N Lane)))
                (NP[conj]
                  (, ,)
                  (NP
                    (N
                      (N/N special)
                      (N
                        (N counsel)
                        (N\N
                          ((N\N)/NP at)
                          (NP
                            (NP
                              (NP
                                (NP[nb]/N
                                  (NP
                                    (NP[nb]/N the)
                                    (N SEC))
                                  ((NP[nb]/N)\NP 's))
                                (N
                                  (N office)
                                  (N\N
                                    ((N\N)/NP of)
                                    (NP
                                      (N
                                        (N/N disclosure)
                                        (N policy))))))
                              (, ,))
                            (NP\NP
                              ((NP\NP)/(S[dcl]\NP) which)
                              (S[dcl]\NP
                                ((S[dcl]\NP)/NP proposed)
                                (NP
                                  (NP[nb]/N the)
                                  (N changes))))))))))))
            (. .)))))
    True
    """
    pass

def test02t():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.11')
    (S
      (S[dcl]
        (S[dcl]
          (S[dcl]
            (S[dcl]
              (NP
                (NP
                  (N Investors))
                (NP[conj]
                  (, ,)
                  (NP
                    (NP
                      (N
                        (N/N money)
                        (N managers)))
                    (NP[conj]
                      (conj and)
                      (NP
                        (N
                          (N/N corporate)
                          (N officials)))))))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[to]\NP)
                  ((S[dcl]\NP)/(S[to]\NP) had)
                  ((S\NP)\(S\NP)
                    (((S\NP)\(S\NP))/NP until)
                    (NP
                      (N today))))
                (S[to]\NP
                  ((S[to]\NP)/(S[b]\NP) to)
                  (S[b]\NP
                    ((S[b]\NP)/PP comment)
                    (PP
                      (PP/NP on)
                      (NP
                        (NP[nb]/N the)
                        (N proposals)))))))
            (S[dcl][conj]
              (, ,)
              (S[dcl][conj]
                (conj and)
                (S[dcl]
                  (NP
                    (NP[nb]/N the)
                    (N issue))
                  (S[dcl]\NP
                    ((S[dcl]\NP)/(S[pt]\NP) has)
                    (S[pt]\NP
                      ((S[pt]\NP)/NP produced)
                      (NP
                        (NP
                          (N
                            (N/N more)
                            (N mail)))
                        (NP\NP
                          ((NP\NP)/NP than)
                          (NP
                            (NP
                              (N
                                (N/N
                                  ((N/N)/(N/N) almost)
                                  (N/N any))
                                (N
                                  (N/N other)
                                  (N issue))))
                            (NP\NP
                              ((NP\NP)/NP in)
                              (NP
                                (N memory))))))))))))
          (S[dcl]\S[dcl]
            (, ,)
            (S[dcl]\S[dcl]
              (NP
                (N
                  (N/N Mr.)
                  (N Lane)))
              ((S[dcl]\S[dcl])\NP said))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S[dcl]
            (S[dcl]
              (NP
                (N
                  (N Investors)
                  (N[conj]
                    (, ,)
                    (N
                      (N
                        (N/N money)
                        (N managers))
                      (N[conj]
                        (conj and)
                        (N
                          (N/N corporate)
                          (N officials)))))))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[to]\NP)
                  ((S[dcl]\NP)/(S[to]\NP) had)
                  ((S\NP)\(S\NP)
                    (((S\NP)\(S\NP))/NP until)
                    (NP
                      (N today))))
                (S[to]\NP
                  ((S[to]\NP)/(S[b]\NP) to)
                  (S[b]\NP
                    ((S[b]\NP)/PP comment)
                    (PP
                      (PP/NP on)
                      (NP
                        (NP[nb]/N the)
                        (N proposals)))))))
            (S[dcl][conj]
              (, ,)
              (S[dcl][conj]
                (conj and)
                (S[dcl]
                  (NP
                    (NP[nb]/N the)
                    (N issue))
                  (S[dcl]\NP
                    ((S[dcl]\NP)/(S[pt]\NP) has)
                    (S[pt]\NP
                      ((S[pt]\NP)/NP produced)
                      (NP
                        (N
                          (N/N more)
                          (N
                            (N mail)
                            (N\N
                              ((N\N)/NP than)
                              (NP
                                (N
                                  (N/N
                                    ((N/N)/(N/N) almost)
                                    (N/N any))
                                  (N
                                    (N/N other)
                                    (N
                                      (N issue)
                                      (N\N
                                        ((N\N)/NP in)
                                        (NP
                                          (N memory)))))))))))))))))
          (S[dcl]\S[dcl]
            (, ,)
            (S[dcl]\S[dcl]
              (NP
                (N
                  (N/N Mr.)
                  (N Lane)))
              ((S[dcl]\S[dcl])\NP said))))
        (. .)))
    True

    """
    pass

def test02u():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.12')
    (S
      (S[dcl]
        (S[dcl]
          (S[dcl]
            (NP
              (NP[nb]/N The)
              (N SEC))
            (S[dcl]\NP
              ((S[dcl]\NP)/(S[b]\NP)
                ((S[dcl]\NP)/(S[b]\NP) will)
                ((S\NP)\(S\NP) probably))
              (S[b]\NP
                (S[b]\NP
                  ((S[b]\NP)/PP vote)
                  (PP
                    (PP/NP on)
                    (NP
                      (NP[nb]/N the)
                      (N proposal))))
                ((S\NP)\(S\NP)
                  (((S\NP)\(S\NP))/((S\NP)\(S\NP)) early)
                  ((S\NP)\(S\NP)
                    (((S\NP)\(S\NP))/((S\NP)\(S\NP)) next)
                    ((S\NP)\(S\NP) year))))))
          (S[dcl]\S[dcl]
            (, ,)
            (S[dcl]\S[dcl]
              (NP he)
              ((S[dcl]\S[dcl])\NP said))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S[dcl]
            (NP
              (NP[nb]/N The)
              (N SEC))
            (S[dcl]\NP
              ((S[dcl]\NP)/(S[b]\NP)
                ((S[dcl]\NP)/(S[b]\NP) will)
                ((S\NP)\(S\NP) probably))
              (S[b]\NP
                (S[b]\NP
                  ((S[b]\NP)/PP vote)
                  (PP
                    (PP/NP on)
                    (NP
                      (NP[nb]/N the)
                      (N proposal))))
                ((S\NP)\(S\NP)
                  (((S\NP)\(S\NP))/((S\NP)\(S\NP)) early)
                  ((S\NP)\(S\NP)
                    (((S\NP)\(S\NP))/((S\NP)\(S\NP)) next)
                    ((S\NP)\(S\NP) year))))))
          (S[dcl]\S[dcl]
            (, ,)
            (S[dcl]\S[dcl]
              (NP he)
              ((S[dcl]\S[dcl])\NP said))))
        (. .)))
    True
    """
    pass

def test02v():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.13')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP
              (NP/NP Not)
              (NP
                (NP[nb]/N all)
                (N those)))
            (NP\NP
              ((NP\NP)/(S[dcl]\NP) who)
              (S[dcl]\NP wrote)))
          (S[dcl]\NP
            ((S[dcl]\NP)/NP oppose)
            (NP
              (NP[nb]/N the)
              (N changes))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP/NP Not)
            (NP
              (NP[nb]/N all)
              (N
                (N those)
                (N\N
                  ((N\N)/(S[dcl]\NP) who)
                  (S[dcl]\NP wrote)))))
          (S[dcl]\NP
            ((S[dcl]\NP)/NP oppose)
            (NP
              (NP[nb]/N the)
              (N changes))))
        (. .)))
    True
    """
    pass

def test02w():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.14')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP
              (NP
                (NP[nb]/N The)
                (N Committee))
              (NP\NP
                ((NP\NP)/NP on)
                (NP
                  (NP
                    (N
                      (N/N Federal)
                      (N Regulation)))
                  (NP\NP
                    ((NP\NP)/NP of)
                    (NP
                      (N Securities))))))
            (NP\NP
              ((NP\NP)/NP for)
              (NP
                (NP[nb]/N the)
                (N
                  (N/N American)
                  (N
                    (N/N Bar)
                    (N Association))))))
          (S[dcl]\NP
            ((S[dcl]\NP)/S[em]
              ((S[dcl]\NP)/S[em]
                ((S[dcl]\NP)/S[em]
                  ((S[dcl]\NP)/S[em]
                    ((S[dcl]\NP)/S[em]
                      ((S[dcl]\NP)/S[em] argues)
                      (, ,))
                    ((S\NP)\(S\NP)
                      (((S\NP)\(S\NP))/NP for)
                      (NP
                        (N example))))
                  (, ,))
                ((S\NP)\(S\NP)
                  (((S\NP)\(S\NP))/NP in)
                  (NP
                    (NP
                      (NP[nb]/N its)
                      (N
                        (N/N lengthy)
                        (N letter)))
                    (NP\NP
                      ((NP\NP)/NP to)
                      (NP
                        (NP[nb]/N the)
                        (N SEC))))))
              (, ,))
            (S[em]
              (S[em]/S[dcl] that)
              (S[dcl]
                (NP
                  (NP[nb]/N the)
                  (N
                    (N/N proposed)
                    (N changes)))
                (S[dcl]\NP
                  ((S[dcl]\NP)/(S[b]\NP) would)
                  (S[b]\NP
                    ((S\NP)/(S\NP) substantially)
                    (S[b]\NP
                      (S[b]\NP
                        ((S[b]\NP)/NP improve)
                        (NP
                          (NP[nb]/N the)
                          (N
                            (N
                              (N/N -LCB-)
                              (N law))
                            (RRB -RCB-))))
                      ((S\NP)\(S\NP)
                        (((S\NP)\(S\NP))/(S[ng]\NP) by)
                        (S[ng]\NP
                          ((S[ng]\NP)/PP
                            ((S[ng]\NP)/PP
                              (((S[ng]\NP)/PP)/NP conforming)
                              (NP it))
                            ((S\NP)\(S\NP)
                              (((S\NP)\(S\NP))/((S\NP)\(S\NP)) more)
                              ((S\NP)\(S\NP) closely)))
                          (PP
                            (PP/NP to)
                            (NP
                              (N
                                (N/N contemporary)
                                (N
                                  (N/N business)
                                  (N realities))))))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N The)
            (N
              (N
                (N Committee)
                (N\N
                  ((N\N)/NP on)
                  (NP
                    (N
                      (N/N Federal)
                      (N
                        (N Regulation)
                        (N\N
                          ((N\N)/NP of)
                          (NP
                            (N Securities))))))))
              (N\N
                ((N\N)/NP for)
                (NP
                  (NP[nb]/N the)
                  (N
                    (N/N American)
                    (N
                      (N/N Bar)
                      (N Association)))))))
          (S[dcl]\NP
            ((S[dcl]\NP)/S[em]
              ((S[dcl]\NP)/S[em]
                ((S[dcl]\NP)/S[em]
                  ((S[dcl]\NP)/S[em]
                    ((S[dcl]\NP)/S[em]
                      ((S[dcl]\NP)/S[em] argues)
                      (, ,))
                    ((S\NP)\(S\NP)
                      (((S\NP)\(S\NP))/NP for)
                      (NP
                        (N example))))
                  (, ,))
                ((S\NP)\(S\NP)
                  (((S\NP)\(S\NP))/NP in)
                  (NP
                    (NP[nb]/N its)
                    (N
                      (N/N lengthy)
                      (N
                        (N letter)
                        (N\N
                          ((N\N)/NP to)
                          (NP
                            (NP[nb]/N the)
                            (N SEC))))))))
              (, ,))
            (S[em]
              (S[em]/S[dcl] that)
              (S[dcl]
                (NP
                  (NP[nb]/N the)
                  (N
                    (N/N proposed)
                    (N changes)))
                (S[dcl]\NP
                  ((S[dcl]\NP)/(S[b]\NP) would)
                  (S[b]\NP
                    ((S\NP)/(S\NP) substantially)
                    (S[b]\NP
                      (S[b]\NP
                        ((S[b]\NP)/NP improve)
                        (NP
                          (NP[nb]/N the)
                          (N
                            (N
                              (N/N -LCB-)
                              (N law))
                            (RRB -RCB-))))
                      ((S\NP)\(S\NP)
                        (((S\NP)\(S\NP))/(S[ng]\NP) by)
                        (S[ng]\NP
                          ((S[ng]\NP)/PP
                            ((S[ng]\NP)/PP
                              (((S[ng]\NP)/PP)/NP conforming)
                              (NP it))
                            ((S\NP)\(S\NP)
                              (((S\NP)\(S\NP))/((S\NP)\(S\NP)) more)
                              ((S\NP)\(S\NP) closely)))
                          (PP
                            (PP/NP to)
                            (NP
                              (N
                                (N/N contemporary)
                                (N
                                  (N/N business)
                                  (N realities))))))))))))))
        (. .)))
    True

    """
    pass

def test02x():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.15')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP/(S[dcl]/NP) What)
            (S[dcl]/NP
              (S/(S\NP)
                (NP
                  (NP
                    (NP[nb]/N the)
                    (N investors))
                  (NP\NP
                    ((NP\NP)/(S[dcl]\NP) who)
                    (S[dcl]\NP
                      ((S[dcl]\NP)/NP oppose)
                      (NP
                        (NP[nb]/N the)
                        (N
                          (N/N proposed)
                          (N changes)))))))
              ((S[dcl]\NP)/NP
                ((S[dcl]\NP)/NP
                  ((S[dcl]\NP)/PP object)
                  (PP/NP to))
                ((S\NP)\(S\NP) most))))
          (S[dcl]\NP
            ((S[dcl]\NP)/NP is)
            (NP
              (NP
                (NP[nb]/N the)
                (N effect))
              (NP\NP
                (S[dcl]/NP
                  (S/(S\NP)
                    (NP they))
                  ((S[dcl]\NP)/NP
                    ((S[dcl]\NP)/S[dcl] say)
                    (S[dcl]/NP
                      (S/(S\NP)
                        (NP
                          (NP[nb]/N the)
                          (N proposal)))
                      ((S[dcl]\NP)/NP
                        ((S[dcl]\NP)/(S[b]\NP) would)
                        ((S[b]\NP)/NP
                          (((S[b]\NP)/PP)/NP have)
                          ((S\NP)\((S\NP)/PP)
                            (PP
                              (PP/NP on)
                              (NP
                                (NP[nb]/N their)
                                (N
                                  (N ability)
                                  (N\N
                                    (S[to]\NP
                                      ((S[to]\NP)/(S[b]\NP) to)
                                      (S[b]\NP
                                        ((S[b]\NP)/NP spot)
                                        (NP
                                          (NP
                                            (NP
                                              (N
                                                (N/N telltale)
                                                (N clusters)))
                                            (NP\NP
                                              ((NP\NP)/NP of)
                                              (NP
                                                (N
                                                  (N/N trading)
                                                  (N activity)))))
                                          (NP\NP
                                            ((NP\NP)/NP --)
                                            (NP
                                              (NP
                                                (NP
                                                  (N
                                                    (N buying)
                                                    (N[conj]
                                                      (conj or)
                                                      (N selling))))
                                                (NP\NP
                                                  ((NP\NP)/NP by)
                                                  (NP
                                                    (N
                                                      (N/N
                                                        ((N/N)/(N/N)
                                                          (S[adj]\NP more)
                                                          (((N/N)/(N/N))\(S[adj]\NP) than))
                                                        (N/N one))
                                                      (N
                                                        (N officer)
                                                        (N[conj]
                                                          (conj or)
                                                          (N director)))))))
                                              (NP\NP
                                                ((NP\NP)/NP within)
                                                (NP
                                                  (NP
                                                    (NP[nb]/N a)
                                                    (N
                                                      (N/N short)
                                                      (N period)))
                                                  (NP\NP
                                                    ((NP\NP)/NP of)
                                                    (NP
                                                      (N time))))))))))))))))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP/(S[dcl]/NP) What)
            (S[dcl]/NP
              (S/(S\NP)
                (NP
                  (NP[nb]/N the)
                  (N
                    (N investors)
                    (N\N
                      ((N\N)/(S[dcl]\NP) who)
                      (S[dcl]\NP
                        ((S[dcl]\NP)/NP oppose)
                        (NP
                          (NP[nb]/N the)
                          (N
                            (N/N proposed)
                            (N changes))))))))
              ((S[dcl]\NP)/NP
                ((S[dcl]\NP)/NP
                  ((S[dcl]\NP)/PP object)
                  (PP/NP to))
                ((S\NP)\(S\NP) most))))
          (S[dcl]\NP
            ((S[dcl]\NP)/NP is)
            (NP
              (NP[nb]/N the)
              (N
                (N effect)
                (N\N
                  (S[dcl]/NP
                    (S/(S\NP)
                      (NP they))
                    ((S[dcl]\NP)/NP
                      ((S[dcl]\NP)/S[dcl] say)
                      (S[dcl]/NP
                        (S/(S\NP)
                          (NP
                            (NP[nb]/N the)
                            (N proposal)))
                        ((S[dcl]\NP)/NP
                          ((S[dcl]\NP)/(S[b]\NP) would)
                          ((S[b]\NP)/NP
                            (((S[b]\NP)/PP)/NP have)
                            ((S\NP)\((S\NP)/PP)
                              (PP
                                (PP/NP on)
                                (NP
                                  (NP[nb]/N their)
                                  (N
                                    (N ability)
                                    (N\N
                                      (S[to]\NP
                                        ((S[to]\NP)/(S[b]\NP) to)
                                        (S[b]\NP
                                          ((S[b]\NP)/NP spot)
                                          (NP
                                            (N
                                              (N/N telltale)
                                              (N
                                                (N
                                                  (N clusters)
                                                  (N\N
                                                    ((N\N)/NP of)
                                                    (NP
                                                      (N
                                                        (N/N trading)
                                                        (N activity)))))
                                                (N\N
                                                  ((N\N)/NP --)
                                                  (NP
                                                    (N
                                                      (N
                                                        (N
                                                          (N buying)
                                                          (N[conj]
                                                            (conj or)
                                                            (N selling)))
                                                        (N\N
                                                          ((N\N)/NP by)
                                                          (NP
                                                            (N
                                                              (N/N
                                                                ((N/N)/(N/N)
                                                                  (S[adj]\NP more)
                                                                  (((N/N)/(N/N))\(S[adj]\NP) than))
                                                                (N/N one))
                                                              (N
                                                                (N officer)
                                                                (N[conj]
                                                                  (conj or)
                                                                  (N director)))))))
                                                      (N\N
                                                        ((N\N)/NP within)
                                                        (NP
                                                          (NP[nb]/N a)
                                                          (N
                                                            (N/N short)
                                                            (N
                                                              (N period)
                                                              (N\N
                                                                ((N\N)/NP of)
                                                                (NP
                                                                  (N time))))))))))))))))))))))))))))))
        (. .)))
    Invalid: N\N --> S[dcl]/NP None
    False
    """
    pass

def test02y():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.16')
    (S
      (S[dcl]
        (S[dcl]
          (S/S
            ((S/S)/PP According)
            (PP
              (PP/NP to)
              (NP
                (NP[nb]/N some)
                (N estimates))))
          (S[dcl]
            (, ,)
            (S[dcl]
              (NP
                (NP[nb]/N the)
                (N
                  (N/N rule)
                  (N changes)))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[b]\NP) would)
                (S[b]\NP
                  (S[b]\NP
                    ((S[b]\NP)/NP cut)
                    (NP
                      (N
                        (N/N insider)
                        (N filings))))
                  ((S\NP)\(S\NP)
                    (((S\NP)\(S\NP))/NP by)
                    (NP
                      (NP
                        (N more))
                      (NP\NP
                        ((NP\NP)/NP than)
                        (NP
                          (NP[nb]/N a)
                          (N third))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S/S
            ((S/S)/PP According)
            (PP
              (PP/NP to)
              (NP
                (NP[nb]/N some)
                (N estimates))))
          (S[dcl]
            (, ,)
            (S[dcl]
              (NP
                (NP[nb]/N the)
                (N
                  (N/N rule)
                  (N changes)))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[b]\NP) would)
                (S[b]\NP
                  (S[b]\NP
                    ((S[b]\NP)/NP cut)
                    (NP
                      (N
                        (N/N insider)
                        (N filings))))
                  ((S\NP)\(S\NP)
                    (((S\NP)\(S\NP))/NP by)
                    (NP
                      (N
                        (N more)
                        (N\N
                          ((N\N)/NP than)
                          (NP
                            (NP[nb]/N a)
                            (N third)))))))))))
        (. .)))
    True
    """
    pass

def test02z():
    """Test first 20 sentences from section 02
    >>> nAttach.debug(data.ccgbank, 'wsj_0203.17')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N
              (NP
                (NP[nb]/N The)
                (N SEC))
              ((NP[nb]/N)\NP 's))
            (N
              (N/N Mr.)
              (N Lane)))
          (S[dcl]\NP
            ((S\NP)/(S\NP) vehemently)
            (S[dcl]\NP
              ((S[dcl]\NP)/NP disputed)
              (NP
                (NP[nb]/N those)
                (N estimates)))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP[nb]/N
              (NP
                (NP[nb]/N The)
                (N SEC))
              ((NP[nb]/N)\NP 's))
            (N
              (N/N Mr.)
              (N Lane)))
          (S[dcl]\NP
            ((S\NP)/(S\NP) vehemently)
            (S[dcl]\NP
              ((S[dcl]\NP)/NP disputed)
              (NP
                (NP[nb]/N those)
                (N estimates)))))
        (. .)))
    True
    """
    pass






def testLike1():
    """matt@subject:~/code/repos$ python rebanking/nAttach.py -d wsj_0994.11
    >>> nAttach.debug(data.ccgbank, 'wsj_0994.11')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N
              (N/N Las)
              (N Vegas)))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[pt]\NP) has)
            (S[pt]\NP
              (S[pt]\NP
                ((S[pt]\NP)/NP seen)
                (NP
                  (NP nothing)
                  (NP\NP
                    ((NP\NP)/(NP\NP) quite)
                    (NP\NP
                      ((NP\NP)/NP like)
                      (NP it)))))
              ((S\NP)\(S\NP) before))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N
              (N/N Las)
              (N Vegas)))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[pt]\NP) has)
            (S[pt]\NP
              (S[pt]\NP
                ((S[pt]\NP)/NP seen)
                (NP
                  (NP/PP nothing)
                  (PP
                    (PP/PP quite)
                    (PP
                      (PP/NP like)
                      (NP it)))))
              ((S\NP)\(S\NP) before))))
        (. .)))
    True
    """
    pass

def testLike2():
    """matt@subject:~/code/repos$ python rebanking/nAttach.py -d wsj_0524.56
    >>> nAttach.debug(data.ccgbank, 'wsj_0524.56')
    (S
      (S[dcl]
        (S[dcl]
          (S[dcl]
            (NP We)
            (S[dcl]\NP
              ((S[dcl]\NP)/(S[ng]\NP)
                ((S[dcl]\NP)/(S[ng]\NP) are)
                ((S\NP)\(S\NP) n't))
              (S[ng]\NP
                ((S[ng]\NP)/PP looking)
                (PP
                  (PP/NP at)
                  (NP
                    (NP anything)
                    (NP\NP
                      ((NP\NP)/NP like)
                      (NP
                        (NP[nb]/N a)
                        (N
                          (N/N doomsday)
                          (N scenario)))))))))
          (S[dcl]\S[dcl]
            (, ,)
            (S[dcl]\S[dcl]
              (NP he)
              ((S[dcl]\S[dcl])\NP says))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S[dcl]
            (NP We)
            (S[dcl]\NP
              ((S[dcl]\NP)/(S[ng]\NP)
                ((S[dcl]\NP)/(S[ng]\NP) are)
                ((S\NP)\(S\NP) n't))
              (S[ng]\NP
                ((S[ng]\NP)/PP looking)
                (PP
                  (PP/NP at)
                  (NP
                    (NP/PP anything)
                    (PP
                      (PP/NP like)
                      (NP
                        (NP[nb]/N a)
                        (N
                          (N/N doomsday)
                          (N scenario)))))))))
          (S[dcl]\S[dcl]
            (, ,)
            (S[dcl]\S[dcl]
              (NP he)
              ((S[dcl]\S[dcl])\NP says))))
        (. .)))
    True
    """
    pass

def testLike3():
    """matt@subject:~/code/repos$ python rebanking/nAttach.py -d wsj_2161.70
    >>> nAttach.debug(data.ccgbank, 'wsj_2161.70')
    (S
      (S[dcl]
        (S[dcl]
          (NP[thr] There)
          (S[dcl]\NP[thr]
            ((S[dcl]\NP[thr])/NP 's)
            (NP
              (NP nothing)
              (NP\NP
                ((NP\NP)/NP like)
                (NP
                  (NP
                    (N skin))
                  (NP\NP
                    ((NP\NP)/NP to)
                    (NP
                      (N skin))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP[thr] There)
          (S[dcl]\NP[thr]
            ((S[dcl]\NP[thr])/NP 's)
            (NP
              (NP/PP nothing)
              (PP
                (PP/NP like)
                (NP
                  (N
                    (N skin)
                    (N\N
                      ((N\N)/NP to)
                      (NP
                        (N skin)))))))))
        (. .)))
    True
    """
    pass

def test_pos_clash():
    """Fixed pos to look for Julia's pos, instead of treebank's
    >>> nAttach.debug(data.ccgbank, 'wsj_1603.75')
    (S
      (S[dcl]
        (S[dcl]
          (S/S
            ((S/S)/NP Following)
            (NP
              (NP
                (NP
                  (NP[nb]/N
                    (NP
                      (N
                        (N/N Mr.)
                        (N Linh)))
                    ((NP[nb]/N)\NP 's))
                  (N appointment))
                (NP\NP
                  ((NP\NP)/NP as)
                  (NP
                    (NP
                      (N secretary-general))
                    (NP\NP
                      ((NP\NP)/NP of)
                      (NP
                        (NP[nb]/N the)
                        (N party))))))
              (NP\NP
                ((NP\NP)/NP at)
                (NP
                  (NP[nb]/N the)
                  (N
                    (N/N sixth)
                    (N congress))))))
          (S[dcl]
            (, ,)
            (S[dcl]
              (NP
                (N
                  (N/N Mrs.)
                  (N Thi)))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[pt]\NP) has)
                (S[pt]\NP
                  ((S[pt]\NP)/NP become)
                  (NP
                    (NP
                      (NP[nb]/N the)
                      (N darling))
                    (NP\NP
                      ((NP\NP)/NP of)
                      (NP
                        (NP
                          (N
                            (N doi)
                            (N\N moi)))
                        (NP[conj]
                          (, ,)
                          (NP
                            (NP
                              (NP[nb]/N the)
                              (N
                                (N/N Vietnamese)
                                (N version)))
                            (NP\NP
                              ((NP\NP)/NP of)
                              (NP
                                (N perestroika)))))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S/S
            ((S/S)/NP Following)
            (NP
              (NP[nb]/N
                (NP
                  (N
                    (N/N Mr.)
                    (N Linh)))
                ((NP[nb]/N)\NP 's))
              (N
                (N
                  (N appointment)
                  (N\N
                    ((N\N)/NP as)
                    (NP
                      (N
                        (N secretary-general)
                        (N\N
                          ((N\N)/NP of)
                          (NP
                            (NP[nb]/N the)
                            (N party)))))))
                (N\N
                  ((N\N)/NP at)
                  (NP
                    (NP[nb]/N the)
                    (N
                      (N/N sixth)
                      (N congress)))))))
          (S[dcl]
            (, ,)
            (S[dcl]
              (NP
                (N
                  (N/N Mrs.)
                  (N Thi)))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[pt]\NP) has)
                (S[pt]\NP
                  ((S[pt]\NP)/NP become)
                  (NP
                    (NP[nb]/N the)
                    (N
                      (N darling)
                      (N\N
                        ((N\N)/NP of)
                        (NP
                          (NP
                            (N
                              (N doi)
                              (N\N moi)))
                          (NP[conj]
                            (, ,)
                            (NP
                              (NP[nb]/N the)
                              (N
                                (N/N Vietnamese)
                                (N
                                  (N version)
                                  (N\N
                                    ((N\N)/NP of)
                                    (NP
                                      (N perestroika))))))))))))))))
        (. .)))
    True

    """
    pass

def testInteraction():
    r"""doCleanup, doNAttach, doNCoord, doPartitiveGenitive
    >>> nAttach.debug(data.ccgbank, r'wsj_0048.21')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N
              (N/N First)
              (N Constitution)))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[pt]\NP) has)
            (S[pt]\NP
              (S[pt]\NP
                (S[pt]\NP
                  ((S[pt]\NP)/PP
                    (((S[pt]\NP)/PP)/NP signed)
                    (NP
                      (NP[nb]/N a)
                      (N
                        (N/N merger)
                        (N agreement))))
                  (PP
                    (PP/NP with)
                    (NP
                      (NP
                        (N
                          (N/N WFRR)
                          (N L.P.)))
                      (NP[conj]
                        (conj and)
                        (NP
                          (N
                            (N/N GHKM)
                            (N Corp.)))))))
                (, ,))
              ((S\NP)\(S\NP)
                (((S\NP)\(S\NP))/S[dcl]
                  ((NP\NP)/NP under)
                  ((((S\NP)\(S\NP))/S[dcl])\((NP\NP)/NP) which))
                (S[dcl]
                  (NP
                    (NP all)
                    (NP\NP
                      ((NP\NP)/NP of)
                      (NP
                        (NP[nb]/N its)
                        (N
                          (N/N common)
                          (N shares)))))
                  (S[dcl]\NP
                    ((S[dcl]\NP)/(S[b]\NP) will)
                    (S[b]\NP
                      ((S[b]\NP)/(S[pss]\NP) be)
                      (S[pss]\NP
                        ((S[pss]\NP)/PP acquired)
                        (PP
                          (PP/NP for)
                          (NP
                            (NP
                              (NP
                                (N
                                  (N/N[num] $)
                                  (N[num] 25)))
                              (NP\NP each))
                            (NP[conj]
                              (, ,)
                              (NP[conj]
                                (conj or)
                                (NP
                                  (N
                                    (N/N[num] $)
                                    (N[num]
                                      (N/N 273.5)
                                      (N[num] million))))))))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (N
              (N/N First)
              (N Constitution)))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[pt]\NP) has)
            (S[pt]\NP
              (S[pt]\NP
                (S[pt]\NP
                  ((S[pt]\NP)/PP
                    (((S[pt]\NP)/PP)/NP signed)
                    (NP
                      (NP[nb]/N a)
                      (N
                        (N/N merger)
                        (N agreement))))
                  (PP
                    (PP/NP with)
                    (NP
                      (N
                        (N
                          (N/N WFRR)
                          (N L.P.))
                        (N[conj]
                          (conj and)
                          (N
                            (N/N GHKM)
                            (N Corp.)))))))
                (, ,))
              ((S\NP)\(S\NP)
                (((S\NP)\(S\NP))/S[dcl]
                  ((N\N)/NP under)
                  ((((S\NP)\(S\NP))/S[dcl])\((N\N)/NP) which))
                (S[dcl]
                  (NP
                    (NP/PP all)
                    (PP
                      (PP/NP of)
                      (NP
                        (NP[nb]/N its)
                        (N
                          (N/N common)
                          (N shares)))))
                  (S[dcl]\NP
                    ((S[dcl]\NP)/(S[b]\NP) will)
                    (S[b]\NP
                      ((S[b]\NP)/(S[pss]\NP) be)
                      (S[pss]\NP
                        ((S[pss]\NP)/PP acquired)
                        (PP
                          (PP/NP for)
                          (NP
                            (NP
                              (N
                                (N
                                  (N/N[num] $)
                                  (N[num] 25))
                                (N\N each)))
                            (NP[conj]
                              (, ,)
                              (NP[conj]
                                (conj or)
                                (NP
                                  (N
                                    (N/N[num] $)
                                    (N[num]
                                      (N/N 273.5)
                                      (N[num] million))))))))))))))))
        (. .)))
    True
    """
    pass

def testInteraction2():
    r"""
    >>> nAttach.debug(data.ccgbank, r'wsj_1416.7')
    (S
      (S[dcl]
        (S[dcl]
          (S[dcl]
            (NP
              (NP
                (NP[nb]/N Those)
                (N people))
              (NP\NP
                ((NP\NP)/S[dcl]
                  ((NP\NP)/NP to)
                  (((NP\NP)/S[dcl])\((NP\NP)/NP) whom))
                (S[dcl]
                  (NP I)
                  (S[dcl]\NP refer))))
            (S[dcl]\NP
              ((S[dcl]\NP)/NP
                ((S[dcl]\NP)/NP are)
                ((S\NP)\(S\NP) not))
              (NP
                (NP[nb]/N some)
                (N
                  (N/N heroic)
                  (N
                    (, ,)
                    (N
                      (N/N indecipherable)
                      (N quantity)))))))
          (S[dcl][conj]
            (; ;)
            (S[dcl]
              (NP they)
              (S[dcl]\NP
                ((S[dcl]\NP)/NP are)
                (NP
                  (NP
                    (NP
                      (N artists))
                    (NP[conj]
                      (, ,)
                      (NP
                        (NP
                          (N critics))
                        (NP[conj]
                          (, ,)
                          (NP
                            (NP
                              (N
                                (N/N taxi)
                                (N drivers)))
                            (NP[conj]
                              (, ,)
                              (NP
                                (NP
                                  (N grandmothers))
                                (NP[conj]
                                  (, ,)
                                  (NP
                                    (NP
                                      (NP/NP even)
                                      (NP
                                        (NP[nb]/N some)
                                        (N employees)))
                                    (NP\NP
                                      ((NP\NP)/NP of)
                                      (NP
                                        (NP
                                          (NP[nb]/N the)
                                          (N Ministry))
                                        (NP\NP
                                          ((NP\NP)/NP of)
                                          (NP
                                            (N Culture))))))))))))))
                  (NP[conj]
                    (, ,)
                    (NP
                      (NP all)
                      (NP\NP
                        ((NP\NP)/S[qem] of)
                        (S[qem]
                          (S[qem]/(S[dcl]\NP) whom)
                          (S[dcl]\NP
                            ((S[dcl]\NP)/NP share)
                            (NP
                              (NP
                                (NP[nb]/N a)
                                (N
                                  (N/N deep)
                                  (N belief)))
                              (NP\NP
                                ((NP\NP)/NP in)
                                (NP
                                  (NP
                                    (NP
                                      (NP
                                        (NP[nb]/N the)
                                        (N
                                          (N/N original)
                                          (N principles)))
                                      (NP\NP
                                        ((NP\NP)/NP of)
                                        (NP
                                          (NP[nb]/N the)
                                          (N
                                            (N/N Cuban)
                                            (N Revolution)))))
                                    (, ,))
                                  (NP\NP
                                    (S[pss]\NP
                                      (S[pss]\NP
                                        (S[pss]\NP spelled)
                                        ((S\NP)\(S\NP) out))
                                      ((S\NP)\(S\NP)
                                        (((S\NP)\(S\NP))/NP in)
                                        (NP
                                          (NP
                                            (N terms))
                                          (NP\NP
                                            ((NP\NP)/(NP\NP) such)
                                            (NP\NP
                                              ((NP\NP)/NP as)
                                              (NP
                                                (NP
                                                  (NP
                                                    (N equality))
                                                  (NP\NP
                                                    ((NP\NP)/NP among)
                                                    (NP
                                                      (NP
                                                        (NP[nb]/N all)
                                                        (N members))
                                                      (NP\NP
                                                        ((NP\NP)/NP of)
                                                        (NP
                                                          (NP[nb]/N the)
                                                          (N society))))))
                                                (NP[conj]
                                                  (, ,)
                                                  (NP
                                                    (NP
                                                      (NP
                                                        (N reverence))
                                                      (NP\NP
                                                        ((NP\NP)/NP for)
                                                        (NP
                                                          (NP
                                                            (N education))
                                                          (NP[conj]
                                                            (conj and)
                                                            (NP
                                                              (N
                                                                (N/N creative)
                                                                (N expression)))))))
                                                    (NP[conj]
                                                      (, ,)
                                                      (NP
                                                        (NP
                                                          (NP
                                                            (N
                                                              (N/N universal)
                                                              (N rights)))
                                                          (NP\NP
                                                            ((NP\NP)/NP to)
                                                            (NP
                                                              (N
                                                                (N health)
                                                                (N[conj]
                                                                  (conj and)
                                                                  (N livelihood))))))
                                                        (NP[conj]
                                                          (, ,)
                                                          (NP
                                                            (NP
                                                              (N housing))
                                                            (NP[conj]
                                                              (, ,)
                                                              (NP
                                                                (N etc)))))))))))))))))))))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (S[dcl]
            (NP
              (NP[nb]/N Those)
              (N
                (N people)
                (N\N
                  ((N\N)/S[dcl]
                    ((N\N)/NP to)
                    (((N\N)/S[dcl])\((N\N)/NP) whom))
                  (S[dcl]
                    (NP I)
                    (S[dcl]\NP refer)))))
            (S[dcl]\NP
              ((S[dcl]\NP)/NP
                ((S[dcl]\NP)/NP are)
                ((S\NP)\(S\NP) not))
              (NP
                (NP[nb]/N some)
                (N
                  (N/N heroic)
                  (N
                    (, ,)
                    (N
                      (N/N indecipherable)
                      (N quantity)))))))
          (S[dcl][conj]
            (; ;)
            (S[dcl]
              (NP they)
              (S[dcl]\NP
                ((S[dcl]\NP)/NP are)
                (NP
                  (NP
                    (NP
                      (N artists))
                    (NP[conj]
                      (, ,)
                      (NP
                        (NP
                          (N critics))
                        (NP[conj]
                          (, ,)
                          (NP
                            (NP
                              (N
                                (N/N taxi)
                                (N drivers)))
                            (NP[conj]
                              (, ,)
                              (NP
                                (NP
                                  (N grandmothers))
                                (NP[conj]
                                  (, ,)
                                  (NP
                                    (NP/NP even)
                                    (NP
                                      (NP[nb]/N some)
                                      (N
                                        (N employees)
                                        (N\N
                                          ((N\N)/NP of)
                                          (NP
                                            (NP[nb]/N the)
                                            (N
                                              (N Ministry)
                                              (N\N
                                                ((N\N)/NP of)
                                                (NP
                                                  (N Culture)))))))))))))))))
                  (NP[conj]
                    (, ,)
                    (NP
                      (NP/PP all)
                      (PP
                        (PP/S[qem] of)
                        (S[qem]
                          (S[qem]/(S[dcl]\NP) whom)
                          (S[dcl]\NP
                            ((S[dcl]\NP)/NP share)
                            (NP
                              (NP[nb]/N a)
                              (N
                                (N/N deep)
                                (N
                                  (N belief)
                                  (N\N
                                    ((N\N)/NP in)
                                    (NP
                                      (NP
                                        (NP
                                          (NP[nb]/N the)
                                          (N
                                            (N/N original)
                                            (N
                                              (N principles)
                                              (N\N
                                                ((N\N)/NP of)
                                                (NP
                                                  (NP[nb]/N the)
                                                  (N
                                                    (N/N Cuban)
                                                    (N Revolution)))))))
                                        (, ,))
                                      (NP\NP
                                        (S[pss]\NP
                                          (S[pss]\NP
                                            (S[pss]\NP spelled)
                                            ((S\NP)\(S\NP) out))
                                          ((S\NP)\(S\NP)
                                            (((S\NP)\(S\NP))/NP in)
                                            (NP
                                              (N
                                                (N terms)
                                                (N\N
                                                  ((N\N)/(N\N) such)
                                                  (N\N
                                                    ((N\N)/NP as)
                                                    (NP
                                                      (NP
                                                        (N
                                                          (N equality)
                                                          (N\N
                                                            ((N\N)/NP among)
                                                            (NP
                                                              (NP[nb]/N all)
                                                              (N
                                                                (N members)
                                                                (N\N
                                                                  ((N\N)/NP of)
                                                                  (NP
                                                                    (NP[nb]/N the)
                                                                    (N society))))))))
                                                      (NP[conj]
                                                        (, ,)
                                                        (NP
                                                          (NP
                                                            (N
                                                              (N reverence)
                                                              (N\N
                                                                ((N\N)/NP for)
                                                                (NP
                                                                  (N
                                                                    (N education)
                                                                    (N[conj]
                                                                      (conj and)
                                                                      (N
                                                                        (N/N creative)
                                                                        (N expression))))))))
                                                          (NP[conj]
                                                            (, ,)
                                                            (NP
                                                              (NP
                                                                (N
                                                                  (N/N universal)
                                                                  (N
                                                                    (N rights)
                                                                    (N\N
                                                                      ((N\N)/NP to)
                                                                      (NP
                                                                        (N
                                                                          (N health)
                                                                          (N[conj]
                                                                            (conj and)
                                                                            (N livelihood))))))))
                                                              (NP[conj]
                                                                (, ,)
                                                                (NP
                                                                  (N
                                                                    (N housing)
                                                                    (N[conj]
                                                                      (, ,)
                                                                      (N etc))))))))))))))))))))))))))))))))
        (. .)))
    True

    """
    pass

def testInteraction3():
    r"""
    >>> nAttach.debug(data.ccgbank, r'wsj_1809.17')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP
              (NP
                (N
                  (N/N Robert)
                  (N
                    (N/N M.)
                    (N Glorioso))))
              (NP[conj]
                (, ,)
                (NP
                  (NP
                    (NP[nb]/N
                      (NP
                        (N Digital))
                      ((NP[nb]/N)\NP 's))
                    (N
                      (N/N vice)
                      (N president)))
                  (NP\NP
                    ((NP\NP)/NP for)
                    (NP
                      (N
                        (N/N high)
                        (N
                          (N/N performance)
                          (N systems))))))))
            (, ,))
          (S[dcl]\NP
            ((S[dcl]\NP)/S[dcl] says)
            (S[dcl]
              (NP
                (NP[nb]/N
                  (NP
                    (N Digital))
                  ((NP[nb]/N)\NP 's))
                (N mainframe))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[pss]\NP) is)
                (S[pss]\NP
                  ((S[pss]\NP)/PP designed)
                  (PP
                    (PP/PP not)
                    (PP
                      (PP
                        (PP/NP as)
                        (NP
                          (NP
                            (NP[nb]/N a)
                            (N
                              (N/N central)
                              (N computer)))
                          (NP\NP
                            ((NP\NP)/S[dcl]
                              ((NP\NP)/NP around)
                              (((NP\NP)/S[dcl])\((NP\NP)/NP) which))
                            (S[dcl]
                              (NP everything)
                              (S[dcl]\NP revolves)))))
                      (PP[conj]
                        (, ,)
                        (PP[conj]
                          (conj but)
                          (PP
                            (PP/NP as)
                            (NP
                              (NP
                                (N part))
                              (NP\NP
                                ((NP\NP)/NP of)
                                (NP
                                  (NP
                                    (NP[nb]/N a)
                                    (N
                                      (N/N decentralized)
                                      (N network)))
                                  (NP\NP
                                    (S[ng]\NP
                                      ((S[ng]\NP)/NP
                                        (((S[ng]\NP)/NP)/(S[adj]\NP) weaving)
                                        (S[adj]\NP together))
                                      (NP
                                        (NP
                                          (N hundreds))
                                        (NP\NP
                                          ((NP\NP)/NP of)
                                          (NP
                                            (NP
                                              (N workstations))
                                            (NP[conj]
                                              (, ,)
                                              (NP
                                                (NP
                                                  (N
                                                    (N/N personal)
                                                    (N computers)))
                                                (NP[conj]
                                                  (, ,)
                                                  (NP
                                                    (NP
                                                      (N printers))
                                                    (NP[conj]
                                                      (conj and)
                                                      (NP
                                                        (N
                                                          (N/N other)
                                                          (N devices))))))))))))))))))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP
              (NP
                (N
                  (N/N Robert)
                  (N
                    (N/N M.)
                    (N Glorioso))))
              (NP[conj]
                (, ,)
                (NP
                  (NP[nb]/N
                    (NP
                      (N Digital))
                    ((NP[nb]/N)\NP 's))
                  (N
                    (N/N vice)
                    (N
                      (N president)
                      (N\N
                        ((N\N)/NP for)
                        (NP
                          (N
                            (N/N high)
                            (N
                              (N/N performance)
                              (N systems))))))))))
            (, ,))
          (S[dcl]\NP
            ((S[dcl]\NP)/S[dcl] says)
            (S[dcl]
              (NP
                (NP[nb]/N
                  (NP
                    (N Digital))
                  ((NP[nb]/N)\NP 's))
                (N mainframe))
              (S[dcl]\NP
                ((S[dcl]\NP)/(S[pss]\NP) is)
                (S[pss]\NP
                  ((S[pss]\NP)/PP designed)
                  (PP
                    (PP/PP not)
                    (PP
                      (PP
                        (PP/NP as)
                        (NP
                          (NP[nb]/N a)
                          (N
                            (N/N central)
                            (N
                              (N computer)
                              (N\N
                                ((N\N)/S[dcl]
                                  ((N\N)/NP around)
                                  (((N\N)/S[dcl])\((N\N)/NP) which))
                                (S[dcl]
                                  (NP everything)
                                  (S[dcl]\NP revolves)))))))
                      (PP[conj]
                        (, ,)
                        (PP[conj]
                          (conj but)
                          (PP
                            (PP/NP as)
                            (NP
                              (NP/PP part)
                              (PP
                                (PP/NP of)
                                (NP
                                  (NP[nb]/N a)
                                  (N
                                    (N/N decentralized)
                                    (N
                                      (N network)
                                      (N\N
                                        (S[ng]\NP
                                          ((S[ng]\NP)/NP
                                            (((S[ng]\NP)/NP)/(S[adj]\NP) weaving)
                                            (S[adj]\NP together))
                                          (NP
                                            (N
                                              (N hundreds)
                                              (N\N
                                                ((N\N)/NP of)
                                                (NP
                                                  (N
                                                    (N workstations)
                                                    (N[conj]
                                                      (, ,)
                                                      (N
                                                        (N
                                                          (N/N personal)
                                                          (N computers))
                                                        (N[conj]
                                                          (, ,)
                                                          (N
                                                            (N printers)
                                                            (N[conj]
                                                              (conj and)
                                                              (N
                                                                (N/N other)
                                                                (N devices)))))))))))))))))))))))))))))
        (. .)))
    Invalid: N\N --> S[ng]\NP None
    False
    """
    pass



def testInteraction4():
    r"""wsj_0415.19	doNAttach	doNCoord	doNoisyTR	doPartitiveGenitive
    >>> nAttach.debug(data.ccgbank, 'wsj_0415.19')
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP/(S[dcl]\NP) What)
            (S[dcl]\NP
              (S[dcl]\NP comes)
              ((S\NP)\(S\NP)
                (((S\NP)\(S\NP))/PP out)
                (PP
                  (PP/NP of)
                  (NP
                    (NP[nb]/N the)
                    (N
                      (N/N ballot)
                      (N box)))))))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[b]\NP) could)
            (S[b]\NP
              (S[b]\NP
                ((S[b]\NP)/(S[adj]\NP) be)
                (S[adj]\NP crucial))
              ((S\NP)\(S\NP)
                (((S\NP)\(S\NP))/(S[ng]\NP) in)
                (S[ng]\NP
                  ((S[ng]\NP)/S[qem] determining)
                  (S[qem]
                    (S[qem]/S[dcl] whether)
                    (S[dcl]
                      (NP
                        (N Brazil))
                      (S[dcl]\NP
                        (S[dcl]\NP
                          ((S\NP)/(S\NP) finally)
                          (S[dcl]\NP
                            ((S[dcl]\NP)/PP lives)
                            (PP
                              (PP/PP up)
                              (PP
                                (PP/NP to)
                                (NP
                                  (NP
                                    (NP[nb]/N the)
                                    (N potential))
                                  (NP\NP
                                    ((NP\NP)/NP of)
                                    (NP
                                      (NP[nb]/N
                                        (NP
                                          (NP[nb]/N the)
                                          (N world))
                                        ((NP[nb]/N)\NP 's))
                                      (N
                                        (N/N
                                          (N/N eighth)
                                          ((N/N)\(N/N) largest))
                                        (N economy)))))))))
                        (S[dcl]\NP[conj]
                          (conj or)
                          (S[dcl]\NP
                            ((S[dcl]\NP)/(S[ng]\NP) keeps)
                            (S[ng]\NP
                              ((S[ng]\NP)/PP living)
                              (PP
                                (PP/PP up)
                                (PP
                                  (PP/NP to)
                                  (NP
                                    (NP
                                      (NP[nb]/N its)
                                      (N
                                        (N/N other)
                                        (N
                                          (, ,)
                                          (N
                                            (N/N
                                              ((N/N)/(N/N) less)
                                              (N/N enviable))
                                            (N title)))))
                                    (NP\NP
                                      ((NP\NP)/NP :)
                                      (NP
                                        (NP that)
                                        (NP\NP
                                          ((NP\NP)/NP of)
                                          (NP
                                            (NP
                                              (NP
                                                (NP
                                                  (NP
                                                    (NP
                                                      (NP
                                                        (NP[nb]/N
                                                          (NP
                                                            (NP[nb]/N the)
                                                            (N
                                                              (N/N developing)
                                                              (N world)))
                                                          ((NP[nb]/N)\NP 's))
                                                        (N
                                                          (N/N largest)
                                                          (N debtor)))
                                                      (, ,))
                                                    (NP\NP
                                                      (S[ng]\NP
                                                        (S[ng]\NP teetering)
                                                        ((S\NP)\(S\NP)
                                                          (((S\NP)\(S\NP))/NP on)
                                                          (NP
                                                            (NP
                                                              (NP[nb]/N the)
                                                              (N brink))
                                                            (NP\NP
                                                              ((NP\NP)/NP of)
                                                              (NP
                                                                (N hyperinflation))))))))
                                                  (, ,))
                                                (NP\NP
                                                  (S[adj]\NP
                                                    (S[adj]\NP mired)
                                                    ((S[adj]\NP)\(S[adj]\NP)
                                                      (((S[adj]\NP)\(S[adj]\NP))/NP in)
                                                      (NP
                                                        (N
                                                          (N deficits)
                                                          (N[conj]
                                                            (conj and)
                                                            (N stagnation))))))))
                                              (, ,))
                                            (NP\NP
                                              ((NP\NP)/(S[ng]\NP)
                                                (((NP\NP)/(S[ng]\NP))/NP with)
                                                (NP
                                                  (NP
                                                    (N
                                                      (N/N huge)
                                                      (N
                                                        (N/N economic)
                                                        (N inequalities))))
                                                  (NP[conj]
                                                    (conj and)
                                                    (NP
                                                      (N
                                                        (N/N social)
                                                        (N discontent))))))
                                              (S[ng]\NP
                                                (S[ng]\NP boiling)
                                                ((S\NP)\(S\NP)
                                                  (((S\NP)\(S\NP))/NP under)
                                                  (NP
                                                    (NP[nb]/N the)
                                                    (N surface)))))))))))))))))))))))
        (. .)))
    True
    (S
      (S[dcl]
        (S[dcl]
          (NP
            (NP/(S[dcl]\NP) What)
            (S[dcl]\NP
              (S[dcl]\NP comes)
              ((S\NP)\(S\NP)
                (((S\NP)\(S\NP))/PP out)
                (PP
                  (PP/NP of)
                  (NP
                    (NP[nb]/N the)
                    (N
                      (N/N ballot)
                      (N box)))))))
          (S[dcl]\NP
            ((S[dcl]\NP)/(S[b]\NP) could)
            (S[b]\NP
              (S[b]\NP
                ((S[b]\NP)/(S[adj]\NP) be)
                (S[adj]\NP crucial))
              ((S\NP)\(S\NP)
                (((S\NP)\(S\NP))/(S[ng]\NP) in)
                (S[ng]\NP
                  ((S[ng]\NP)/S[qem] determining)
                  (S[qem]
                    (S[qem]/S[dcl] whether)
                    (S[dcl]
                      (NP
                        (N Brazil))
                      (S[dcl]\NP
                        (S[dcl]\NP
                          ((S\NP)/(S\NP) finally)
                          (S[dcl]\NP
                            ((S[dcl]\NP)/PP lives)
                            (PP
                              (PP/PP up)
                              (PP
                                (PP/NP to)
                                (NP
                                  (NP[nb]/N the)
                                  (N
                                    (N potential)
                                    (N\N
                                      ((N\N)/NP of)
                                      (NP
                                        (NP[nb]/N
                                          (NP
                                            (NP[nb]/N the)
                                            (N world))
                                          ((NP[nb]/N)\NP 's))
                                        (N
                                          (N/N
                                            (N/N eighth)
                                            ((N/N)\(N/N) largest))
                                          (N economy))))))))))
                        (S[dcl]\NP[conj]
                          (conj or)
                          (S[dcl]\NP
                            ((S[dcl]\NP)/(S[ng]\NP) keeps)
                            (S[ng]\NP
                              ((S[ng]\NP)/PP living)
                              (PP
                                (PP/PP up)
                                (PP
                                  (PP/NP to)
                                  (NP
                                    (NP[nb]/N its)
                                    (N
                                      (N/N other)
                                      (N
                                        (, ,)
                                        (N
                                          (N/N
                                            ((N/N)/(N/N) less)
                                            (N/N enviable))
                                          (N
                                            (N title)
                                            (N\N
                                              ((N\N)/NP :)
                                              (NP
                                                (NP/PP that)
                                                (PP
                                                  (PP/NP of)
                                                  (NP
                                                    (NP
                                                      (NP
                                                        (NP
                                                          (NP
                                                            (NP
                                                              (NP
                                                                (NP[nb]/N
                                                                  (NP
                                                                    (NP[nb]/N the)
                                                                    (N
                                                                      (N/N developing)
                                                                      (N world)))
                                                                  ((NP[nb]/N)\NP 's))
                                                                (N
                                                                  (N/N largest)
                                                                  (N debtor)))
                                                              (, ,))
                                                            (NP\NP
                                                              (S[ng]\NP
                                                                (S[ng]\NP teetering)
                                                                ((S\NP)\(S\NP)
                                                                  (((S\NP)\(S\NP))/NP on)
                                                                  (NP
                                                                    (NP[nb]/N the)
                                                                    (N
                                                                      (N brink)
                                                                      (N\N
                                                                        ((N\N)/NP of)
                                                                        (NP
                                                                          (N hyperinflation)))))))))
                                                          (, ,))
                                                        (NP\NP
                                                          (S[adj]\NP
                                                            (S[adj]\NP mired)
                                                            ((S[adj]\NP)\(S[adj]\NP)
                                                              (((S[adj]\NP)\(S[adj]\NP))/NP in)
                                                              (NP
                                                                (N
                                                                  (N deficits)
                                                                  (N[conj]
                                                                    (conj and)
                                                                    (N stagnation))))))))
                                                      (, ,))
                                                    (NP\NP
                                                      ((NP\NP)/(S[ng]\NP)
                                                        (((NP\NP)/(S[ng]\NP))/NP with)
                                                        (NP
                                                          (N
                                                            (N
                                                              (N/N huge)
                                                              (N
                                                                (N/N economic)
                                                                (N inequalities)))
                                                            (N[conj]
                                                              (conj and)
                                                              (N
                                                                (N/N social)
                                                                (N discontent))))))
                                                      (S[ng]\NP
                                                        (S[ng]\NP boiling)
                                                        ((S\NP)\(S\NP)
                                                          (((S\NP)\(S\NP))/NP under)
                                                          (NP
                                                            (NP[nb]/N the)
                                                            (N surface)))))))))))))))))))))))))))
        (. .)))
    True

    """
    pass

def testInteraction5():
    r"""wsj_0559.2	doNAttach	doNCoord	doNoisyTR	doPartitiveGenitive
    >>> nAttach.debug(data.ccgbank, 'wsj_0559.2')
    (S
      (S[dcl]
        (S[adj]\NP Here)
        (S[dcl]\(S[adj]\NP)
          (, ,)
          (S[dcl]\(S[adj]\NP)
            (S/S
              ((S/S)/NP at)
              (NP
                (NP
                  (NP[nb]/N a)
                  (N
                    (N/N soccer)
                    (N stadium)))
                (NP\NP
                  ((NP\NP)/NP near)
                  (NP
                    (NP
                      (NP[nb]/N the)
                      (N
                        (N/N black)
                        (N township)))
                    (NP\NP
                      ((NP\NP)/NP of)
                      (NP
                        (N Soweto)))))))
            (S[dcl]\(S[adj]\NP)
              (S/S yesterday)
              (S[dcl]\(S[adj]\NP)
                (, ,)
                (S[dcl]\(S[adj]\NP)
                  (S[dcl]\(S[adj]\NP)
                    ((S[dcl]\(S[adj]\NP))/NP were)
                    (NP
                      (NP
                        (NP
                          (NP
                            (N
                              (N/N eight)
                              (N leaders)))
                          (NP\NP
                            ((NP\NP)/NP of)
                            (NP
                              (NP[nb]/N the)
                              (N
                                (N/N African)
                                (N
                                  (N/N National)
                                  (N Congress))))))
                        (, ,))
                      (NP\NP
                        ((NP\NP)/(S[dcl]\NP)
                          (NP/NP
                            (NP/(NP\NP)
                              (NP
                                (N seven)))
                            ((NP\NP)/NP of))
                          (((NP\NP)/(S[dcl]\NP))\(NP/NP) whom))
                        (S[dcl]\NP
                          ((S[dcl]\NP)/(S[pt]\NP) had)
                          (S[pt]\NP
                            (S[pt]\NP
                              ((S[pt]\NP)/PP
                                (((S[pt]\NP)/PP)/NP spent)
                                (NP
                                  (NP
                                    (N most))
                                  (NP\NP
                                    ((NP\NP)/NP of)
                                    (NP
                                      (NP[nb]/N their)
                                      (N
                                        (N/N adult)
                                        (N lives))))))
                              (PP
                                (PP/NP in)
                                (NP
                                  (N prison))))
                            ((S\NP)\(S\NP)
                              (((S\NP)\(S\NP))/NP for)
                              (NP
                                (NP
                                  (N sabotage))
                                (NP[conj]
                                  (conj and)
                                  (NP
                                    (N
                                      (N conspiracy)
                                      (N\N
                                        (S[to]\NP
                                          ((S[to]\NP)/(S[b]\NP) to)
                                          (S[b]\NP
                                            ((S[b]\NP)/NP overthrow)
                                            (NP
                                              (NP[nb]/N the)
                                              (N government)))))))))))))))
                  (. .))))))))
    True
    (S
      (S[dcl]
        (S[adj]\NP Here)
        (S[dcl]\(S[adj]\NP)
          (, ,)
          (S[dcl]\(S[adj]\NP)
            (S/S
              ((S/S)/NP at)
              (NP
                (NP[nb]/N a)
                (N
                  (N/N soccer)
                  (N
                    (N stadium)
                    (N\N
                      ((N\N)/NP near)
                      (NP
                        (NP[nb]/N the)
                        (N
                          (N/N black)
                          (N
                            (N township)
                            (N\N
                              ((N\N)/NP of)
                              (NP
                                (N Soweto)))))))))))
            (S[dcl]\(S[adj]\NP)
              (S/S yesterday)
              (S[dcl]\(S[adj]\NP)
                (, ,)
                (S[dcl]\(S[adj]\NP)
                  (S[dcl]\(S[adj]\NP)
                    ((S[dcl]\(S[adj]\NP))/NP were)
                    (NP
                      (NP
                        (NP
                          (N
                            (N/N eight)
                            (N
                              (N leaders)
                              (N\N
                                ((N\N)/NP of)
                                (NP
                                  (NP[nb]/N the)
                                  (N
                                    (N/N African)
                                    (N
                                      (N/N National)
                                      (N Congress))))))))
                        (, ,))
                      (NP\NP
                        ((NP\NP)/(S[dcl]\NP)
                          (NP/NP
                            (NP/PP seven)
                            (PP/NP of))
                          (((NP\NP)/(S[dcl]\NP))\(NP/NP) whom))
                        (S[dcl]\NP
                          ((S[dcl]\NP)/(S[pt]\NP) had)
                          (S[pt]\NP
                            (S[pt]\NP
                              ((S[pt]\NP)/PP
                                (((S[pt]\NP)/PP)/NP spent)
                                (NP
                                  (NP/PP most)
                                  (PP
                                    (PP/NP of)
                                    (NP
                                      (NP[nb]/N their)
                                      (N
                                        (N/N adult)
                                        (N lives))))))
                              (PP
                                (PP/NP in)
                                (NP
                                  (N prison))))
                            ((S\NP)\(S\NP)
                              (((S\NP)\(S\NP))/NP for)
                              (NP
                                (N
                                  (N sabotage)
                                  (N[conj]
                                    (conj and)
                                    (N
                                      (N conspiracy)
                                      (N\N
                                        (S[to]\NP
                                          ((S[to]\NP)/(S[b]\NP) to)
                                          (S[b]\NP
                                            ((S[b]\NP)/NP overthrow)
                                            (NP
                                              (NP[nb]/N the)
                                              (N government)))))))))))))))
                  (. .))))))))
    True
    """
    pass


##def testSqemApplication1():
##    r"""
##    >>> nAttach.debug(data.ccgbank, 'wsj_0071.56')
##    (S
##      (S[dcl]
##        (S[dcl]
##          (S/S
##            ((S/S)/NP By)
##            (NP
##              (N January)))
##          (S[dcl]
##            (NP[expl] it)
##            (S[dcl]\NP[expl]
##              ((S[dcl]\NP[expl])/(S[b]\NP) should)
##              (S[b]\NP
##                ((S[b]\NP)/S[qem]
##                  (((S[b]\NP)/S[qem])/(S[adj]\NP) be)
##                  (S[adj]\NP
##                    ((S[adj]\NP)/(S[adj]\NP) fairly)
##                    (S[adj]\NP clear)))
##                (S[qem]
##                  (S[qem]
##                    (S[qem]
##                      (S[qem]/(S[dcl]\NP) what)
##                      (S[dcl]\NP
##                        ((S[dcl]\NP)/(S[adj]\NP) 's)
##                        (S[adj]\NP hot)))
##                    (: --))
##                  (S[qem][conj]
##                    (conj and)
##                    (S[qem]
##                      (S[qem]/(S[dcl]\NP) what)
##                      (S[dcl]\NP
##                        (S[dcl]\NP 's)
##                        ((S\NP)\(S\NP) not)))))))))
##        (. .)))
##    True
##    (S
##      (S[dcl]
##        (S[dcl]
##          (S/S
##            ((S/S)/NP By)
##            (NP
##              (N January)))
##          (S[dcl]
##            (NP[expl] it)
##            (S[dcl]\NP[expl]
##              ((S[dcl]\NP[expl])/(S[b]\NP) should)
##              (S[b]\NP
##                ((S[b]\NP)/NP
##                  (((S[b]\NP)/NP)/(S[adj]\NP) be)
##                  (S[adj]\NP
##                    ((S[adj]\NP)/(S[adj]\NP) fairly)
##                    (S[adj]\NP clear)))
##                (NP
##                  (NP
##                    (NP
##                      (NP/(S[dcl]\NP) what)
##                      (S[dcl]\NP
##                        ((S[dcl]\NP)/(S[adj]\NP) 's)
##                        (S[adj]\NP hot)))
##                    (: --))
##                  (NP[conj]
##                    (conj and)
##                    (NP
##                      (NP/(S[dcl]\NP) what)
##                      (S[dcl]\NP
##                        (S[dcl]\NP 's)
##                        ((S\NP)\(S\NP) not)))))))))
##        (. .)))
##    True
##    """
##    pass




if __name__ == '__main__':
    doctest.testmod()
